urinstall.packages('rvest')
install.packages('rvest')
library(rvest)
url <- 'https://www.thefamouspeople.com/profiles/andrew-cunanan-5435.php'
web_page <- read_html(url)
AKA_html <- html_nodes(web_page, '#idolize > div > div.fps-desc.fpf-block > p:nth-child(2) > span')
AKA <- html_text(AKA_html)
head(AKA)
AKA_html <- html_nodes(web_page, '#idolize > div > div.fps-desc.fpf-block > p:nth-child(n) > span')
AKA <- html_text(AKA_html)
head(AKA)
AKA_html <- html_nodes(web_page, '#idolize > div > div.fps-desc.fpf-block > p:nth-child(2) > span')
AKA <- html_text(AKA_html)
head(AKA)
AKA_html <- html_nodes(web_page, '#idolize > div > div.fps-desc.fpf-block > p:nth-child(2)')
AKA <- html_text(AKA_html)
head(AKA)
AKA <-gsub('.*: ', "", AKA)
head(AKA)
Famous_As_html <- html_nodes(web_page, '#idolize > div > div.fps-desc.fpf-block > p:nth-child(3) > span')
Famous_As <- html_text(Famous_As_html)
Famous_As <- gsub('.*: ', "", Famous_As)
head(Famous_As)
Famous_As_html <- html_nodes(web_page, '#idolize > div > div.fps-desc.fpf-block > p:nth-child(3) > span')
Famous_As <- html_text(Famous_As_html)
head(Famous_As)
Famous_As_html <- html_nodes(web_page, '#idolize > div > div.fps-desc.fpf-block > p:nth-child(3)')
Famous_As <- html_text(Famous_As_html)
head(Famous_As)
Famous_As <- gsub('.*: ', "", Famous_As)
head(Famous_As)
Nationality_html <- html_nodes(web_page, '#idolize > div > div.fps-desc.fpf-block > p:nth-child(4) > span')
Nationality <- html_text(Nationality_html)
head(Nationality)
Nationality_html <- html_nodes(web_page, '#idolize > div > div.fps-desc.fpf-block > p:nth-child(4)')
Nationality <- html_text(Nationality_html)
head(Nationality)
Nationality <- gsub('.*: ', "", Nationality)
head(Nationality)
DOB_html <- html_nodes(web_page, '#idolize > div > div.fps-desc.fpf-block > p:nth-child(5)')
DOB <- html_text(DOB_html)
head(DOB)
DOB <- gsub('.*: ', "", DOB)
head(DOB)
DOB <- gsub(' ', '-', DOB)
head(DOB)
DOB <-gsub(',', "",DOB)
head(DOB)
DOB <-as.Date(DOB, '%B-%m-%Y')
head(DOB)
DOB_html <- html_nodes(web_page, '#idolize > div > div.fps-desc.fpf-block > p:nth-child(5)')
DOB <- html_text(DOB_html)
head(DOB)
DOB <- gsub('.*: ', "", DOB)
DOB <-gsub(',', "",DOB)
DOB <- gsub(' ', '-', DOB)
head(DOB)
DOB <- as.Date(DOB, "%B-%m-%Y")
str(DOB)
DOB_html <- html_nodes(web_page, '#idolize > div > div.fps-desc.fpf-block > p:nth-child(5)')
DOB <- html_text(DOB_html)
head(DOB)
#remove the unrequired text
DOB <- gsub('.*: ', "", DOB)
DOB <-gsub(',', "",DOB)
DOB <- gsub(' ', '-', DOB)
#covert the Date of Birth to a Date data type
DOB <- as.Date(DOB, "%B-%d-%Y")
str(DOB)
Died_At_html <- html_nodes(web_page, '#idolize > div > div.fps-desc.fpf-block > p:nth-child(6)')
Died_At_html <- html_nodes(web_page, '#idolize > div > div.fps-desc.fpf-block > p:nth-child(6)')
Died_At <- html_text(Died_At_html)
head(Died_At)
Died_At <- gsub('.*: ', "", Died_At)
head(Died_At)
Died_At <- as.numeric(Died_At)
head(Died_At)
str(Died_At)
Star_Sign_html <- html_nodes(web_page, '#idolize > div > div.fps-desc.fpf-block > p:nth-child(8) > span')
Star_Sign <- html_text(Star_Sign_html)
head(Star_Sign)
Star_Sign_html <- html_nodes(web_page, '#idolize > div > div.fps-desc.fpf-block > p:nth-child(8)')
Star_Sign <- html_text(Star_Sign_html)
head(Star_Sign)
Star_Sign <- gsub('.*: ', "", Star_Sign)
head(Star_Sign)
Born_In_html <- html_nodes(web_page, '#idolize > div > div.fps-desc.fpf-block > p:nth-child(9)')
Born_In <- html_text(Born_In_html)
head(Born_In)
Born_In <- gsub('.*: ', "", Born_In)
head(Born_In)
Died_On_html <- html_nodes(web_page, '#idolize > div > div.fps-desc.fpf-block > p:nth-child(10)')
Died_On <- html_text(Died_On_html)
head(Died_On)
DOD_html <- html_nodes(web_page, '#idolize > div > div.fps-desc.fpf-block > p:nth-child(10)')
DOD <- html_text(DOD_html)
head(DOD)
head(DOD)
DOD <- gsub('.*: ', "", DOD)
DOD <- gsub(',', "", DOD)
DOD <- gsub(' ', '-', DOD)
DOD <- as.Date(DOD, "%B-%d-%Y")
str(DOB)
Age <- DOD - DOB
head(age)
head(Age)
Age <- as.POSIXlt(Age,"year")
Age <- as.difftime(DOD - DOB, unit = 'years')
head(Age)
Age <- as.difftime(DOD - DOB, unit = 'year')
head(Age)
?as.difftime
Age <- difftime(DOD - DOB, unit = 'year')
str(DOD)
Age <- difftime(DOD - DOB, unit = 'year')
Age <- DOD - DOB
head(Age)
Age <- as.POSIXlt(Age, "year")
Place_of_Death <- html_text(Place_of_Death_html)
Place_of_Death_html <- html_nodes(web_page, '#idolize > div > div.fps-desc.fpf-block > p:nth-child(11)')
Place_of_Death <- html_text(Place_of_Death_html)
head(Place_of_Death)
Place_of_Death <- gsub('.*: ', "", Place_of_Death)
head(Place_of_Death)
Cause_of_Death <- html_text(Cause_of_Death_html)
head(Cause_of_Death)
Cause_of_Death_html <- html_nodes(web_page, '#idolize > div > div.fps-desc.fpf-block > p:nth-child(13)')
Cause_of_Death <- html_text(Cause_of_Death_html)
head(Cause_of_Death)
Cause_of_Death <- gsub('.*: ', "", Cause_of_Death)
head(Cause_of_Death)
head(Age)
Age <- Age/52.25
head(Age)
Age <- difftime(DOD, DOB, units = 'y')
Age <- difftime(DOD, DOB, units = 'auto')
head(Age)
Age <- Age/52.25
head(Age)
Age <- as.numeric(Age/52.25)
head(Age)
Age <- difftime(DOD, DOB, units = 'weeks')
head(Age)
Age <- as.numeric(Age/52.25)
head(Age)
Age <- as.numeric(round(Age/52.25))
head(Age)
Age <- difftime(DOD, DOB, units = 'weeks')
head(Age)
Age <- round(as.numeric(Age/52.25))
head(Age)
Age <- floor(as.numeric(Age/52.25))
head(Age)
Age <- round(as.numeric(Age/52.25))
head(Age)
Age <- difftime(DOD, DOB, units = 'weeks')
head(Age)
Age <- round(as.numeric(Age/52.25))
head(Age)
data <- data.frame(AKA, Famous_As, Nationality, DOB, Born_In, Star_Sign, Died_At, DOD, Place_of_Death, Cause_of_Death)
head(data)
str(data)
data <- data.frame(AKA, Famous_As, Nationality, DOB, Born_In, Star_Sign, Died_At, DOD, Place_of_Death, Cause_of_Death, stringsAsFactors = FALSE)
head(data)
str(data)
kills_data <- read.table('https://en.wikipedia.org/wiki/List_of_serial_killers_by_number_of_victims')
kills_data <- readHTMLtable('https://en.wikipedia.org/wiki/List_of_serial_killers_by_number_of_victims')
victim_data <- html_nodes(https: / / en.wikipedia.org / wiki / List_of_serial_killers_by_number_of_victims, '#mw-content-text > div > table:nth-child(12)')
victim_data <- html_nodes('https: / / en.wikipedia.org / wiki / List_of_serial_killers_by_number_of_victims', '#mw-content-text > div > table:nth-child(12)')
victim_url <- 'https://en.wikipedia.org/wiki/List_of_serial_killers_by_number_of_victims'
victim_data <- html_nodes(victim_url, '#mw-content-text > div > table:nth-child(12)')
victim_data <- html_nodes(victim_url, '//*[@id="mw-content-text"]/div/table[2]')
url <- "https://en.wikipedia.org/wiki/List_of_serial_killers_by_number_of_victims" victims <- url %>%   html() %>%   html_nodes(xpath = '//*[@id="mw-content-text"]/div/table[2]') %>%   html_table() Victims <- victims[[1]]
url <- "https://en.wikipedia.org/wiki/List_of_serial_killers_by_number_of_victims" victims <- url %>%   read_html() %>%   html_nodes(xpath = '//*[@id="mw-content-text"]/div/table[2]') %>%   html_table() Victims <- victims[[1]]
head(Victims)
str(Victims)
#import the victims table from Wiki url <- "https://en.wikipedia.org/wiki/List_of_serial_killers_by_number_of_victims" victims <- url %>% #the %>% enables the input of several commands to be run at once   read_html() %>%   html_nodes(xpath = '//*[@id="mw-content-text"]/div/table[2]') %>%   html_table() Victims <- victims[[2]] head(Victims)
str(Victims)
Victims <- victims[[1]]
head(Victims)
str(Victims)
url <- "https://en.wikipedia.org/wiki/List_of_serial_killers_by_number_of_victims" victims <- url %>% #the %>% enables the input of several commands to be run at once   read_html() %>%   html_nodes(xpath = '//*[@id="mw-content-text"]/div/table[2]') %>%   html_table() #Victims <- victims[[1]] head(Victims) str(Victims)
all <- html_nodes(web_page, '#idolize > div > div.fps-desc.fpf-block')
all <- html_text(all)
head(all)
url2 <- 'https://www.thefamouspeople.com/profiles/jeffrey-dahmer-6725.php'
web_page2 <- read_html(url2)
facts <- '#idolize > div > div.fps-desc.fpf-block'
all2 <- html_nodes(web_page2, facts)
all2 <- html_text(all2)
head(all2)
Nick_Name <-gsub(".*Also Known As","",all2)
head(Nick_Name)
Nick_Name <-gsub("Also Known As.*","",all2)
head(Nick_Name)
Nick_Name <-gsub('.*: ','',Nick_Name)
head(Nick_Name)
str(Victims)

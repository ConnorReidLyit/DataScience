install.packages('pwr')
library(pwr)
?cohen.ES
effect_size <- cohen.ES(test = c('p'), size = c('samll', 'medium', 'large'))
effect_size <- cohen.ES(test = c('p'), size = c('small', 'medium', 'large'))
effect_size
CrimeType <- pwr.2p.test(h = effect_size, sig.level = 0.05, power = 0.95)
effect_size
effect_size <- cohen.ES(test = c('chisq'), size = c('large'))
effect_size
analsysis <- pwr.chisq.test(w = effect_size$effect.size, sig.level = .05, power = 0.95)
analsysis <- pwr.chisq.test(w = effect_size$effect.size, N = ,  sig.level = .05, power = 0.95)
analsysis <- pwr.chisq.test(w = effect_size$effect.size, sig.level = .05, power = 0.95)
?pwr.r.test
? pwr.chisq.test
analsysis <- pwr.chisq.test(w = effect_size$effect.size, n = 878049, sig.level = .05, power = 0.95)
analsysis <- pwr.chisq.test(w = effect_size$effect.size, n = '878049', sig.level = .05, power = 0.95)
analsysis <- pwr.chisq.test(w = effect_size$effect.size, N = 878049, sig.level = .05, power = 0.95)
analsysis <- pwr.chisq.test(w = effect_size$effect.size, df = 878048, sig.level = .05, power = 0.95)
analsysis
install.packages('dplyr')
library(dplyr)
setwd("C:\Users\Connor\Documents\MSc Computing in Big Data Analytics\Data Science\CA")
setwd("C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/CA")
list.files()
data <- read.csv("Hypothesis Test Data.csv", header = TRUE, stringsAsFactors = FALSE)
head(data)
data <- read.csv("Hypothesis Test Data.csv", header = TRUE)
head(data)
str(data)
list.files()
data <- read.csv("train.csv", header = TRUE)
head(data)
str(data)
table <- table(data$DayOfWeek, data$Category)
str(table)
rm(data)
initial_Data <- read.csv("train.csv", header = TRUE)
head(initial_Data)
str(initial_Data)
data <- data.frame(data$DayOfWeek, data$Category)
?table
data <- table(data$DayOfWeek, data$Category, stringsAsFactors = TRUE)
data <- table(initial_Data$DayOfWeek, initial_Data$Category, stringsAsFactors = TRUE)
str(initial_Data)
data <- table(initial_Data$DayOfWeek, initial_Data$Category)
str(table)
str(data)
head(data)
rm(data, envir = as.environment(".GlobalEnv"))
setwd("C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/CA")
list.files()
data <- read.csv("train.csv", header = TRUE)
head(data)
str(data)
tbl_view <- table(initial_Data$DayOfWeek, initial_Data$Category)
tbl_view <- table(data$DayOfWeek, data$Category)
tbl_view
data$DayOfWeek <- factor(data$DayOfWeek, levels = c("Monday",     "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"))
tbl_view
str(data)
tbl_view <- table(data$DayOfWeek, data$Category)
tbl_view
plot(analsysis)
levels(data$DayOfWeek) <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday")
str(data)
prop.table(tbl_view)
prop.table(tbl_view, 1)
?prop.table
prop.table(tbl_view, 1) %>$ round(3)
prop.table(tbl_view, 1) %>$ round(3)
prop.table(tbl_view, 1) %>$ round(3)
prop.table(tbl_view) %>$ round(3)
round(prop.table(tbl_view),3)
tbl_view
levels(data$Category)
tbl_view <- table(data$DayOfWeek, data$Category)
tbl_view
round(prop.table(tbl_view),3)
round(prop.table(tbl_view, 2),3)
chisq.test(tbl_view)> chisq.test(tbl_view)
chisq.test(tbl_view)
round(chisq.test(tbl_view), 3)
test <- chisq.test(tbl_view)
test
round(test$p.value, 3)
round(test$p.value, 5)
round(test$p.value, 6)
round(test$p.value, 8)
round(test$p.value, 16)
round(test$p.value, 20)
rm(analsysis, envir = as.environment(".GlobalEnv"))
analysis <- pwr.chisq.test(w = effect_size$effect.size, df = 878048, sig.level = .05, power = 0.95)
plot(analsysis)
plot(analysis)
round(prop.table(tbl_view, 2),3)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
effect_size <- cohen.ES(test = c('chisq'), size = c('small'))
effect_size
analysis <- pwr.chisq.test(w = effect_size$effect.size, df = 878048, sig.level = .05, power = 0.95)
plot(analysis)
levels(data$Category)
tbl_view <- table(data$DayOfWeek, data$Category)
tbl_view
round(prop.table(tbl_view, 2),3)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
?sample_n
data <- sample_n(data, analysis$N)
str(data)
levels(data$Category)
levels(data$DayOfWeek) <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday")
tbl_view <- table(data$DayOfWeek, data$Category)
tbl_view
round(prop.table(tbl_view, 2),3)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
?pwr.2p.test
pwr.2p.test(h = .8, sig.level = 0.05, power = .95)> pwr.2p.test(h = .8, sig.level = 0.05, power = .95)
stat_analysis_resultpwr.2p.test(h = 0.8, sig.level = 0.05, power = .95)
pwr.2p.test(h = 0.8, sig.level = 0.05, power = .95)
tbl_view <- table(data$DayOfWeek, data$Category == "Theft")
tbl_view
levels(data$Category)
tbl_view <- table(data$DayOfWeek, data$Category == "ASSAULT")
tbl_view
tbl_view
prop.table(tbl_view, 2)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
tbl_view
tbl_view <- tbl_view[, FALSE := NULL]
tbl_view
prop.table(tbl_view, 2)
analysis <- pwr.chisq.test(w = effect_size$effect.size, df = 76878, sig.level = .05, power = 0.95)
plot(analysis)
effect_size <- cohen.ES(test = c('chisq'), size = c('medium'))
analysis <- pwr.chisq.test(w = effect_size$effect.size, df = 76878, sig.level = .05, power = 0.95)
plot(analysis)
effect_size <- cohen.ES(test = c('chisq'), size = c('large'))
analysis <- pwr.chisq.test(w = effect_size$effect.size, df = 76878, sig.level = .05, power = 0.95)
plot(analysis)
effect_size <- cohen.ES(test = c('chisq'), size = c('small'))
effect_size
analysis <- pwr.chisq.test(w = effect_size$effect.size, df = 76878, sig.level = .05, power = 0.95)
plot(analysis)
data <- data[, data$Category == "ASSAULT"]
data <- data[data$Category == "ASSAULT",]
head(data)
str(data)
head(data)
str(data)
? subset
data <- subset(data, grepl("ASSAULT", data$Category))
head(data)
str(data)
data <- read.csv("train.csv", header = TRUE)
data <- read.csv("train.csv", header = TRUE)
data <- read.csv("train.csv", header = TRUE)
setwd("C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/CA")
list.files()
data <- read.csv("train.csv", header = TRUE)
data <- subset(data, grepl("ASSAULT", data$Category))
head(data)
str(data)
data <- subsetdata$Category == 'ASSAULT'))
data <- subset(data$Category == 'ASSAULT')
?subset
data <- subset(data, subset = data$Category == 'ASSAULT')
head(data)
str(data)
setwd("C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/CA")
list.files()
data <- read.csv("train.csv", header = TRUE)
data <- subset(data, subset = data$Category == 'ASSAULT')
head(data)
str(data)
levels(data$Category)
tbl_view <- table(data$DayOfWeek, data$Category)
tbl_view
tbl_view <- table(data$DayOfWeek, data$Category == 'ASSAULT')
tbl_view <- table(data$DayOfWeek, data$Category == 'ASSAULT')
tbl_view
prop.table(tbl_view, 2)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
effect_size <- cohen.ES(test = c('chisq'), size = c('small'))
effect_size
analysis <- pwr.chisq.test(w = effect_size$effect.size, df = 2, sig.level = .05, power = 0.95)
plot(analysis)
?pwr.chisq.test
str(data)
analysis <- pwr.chisq.test(w = effect_size$effect.size, N = 76876, sig.level = .05, power = 0.95)
analysis <- pwr.chisq.test(w = effect_size$effect.size, N = 76876, sig.level = .05, power = 0.95)
plot(analysis)
analysis <- pwr.chisq.test(w = effect_size$effect.size, N = 76876, df = NULL, sig.level = .05, power = 0.95)
analysis <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = NULL, sig.level = .05, power = 0.95)
analysis <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 1, sig.level = .05, power = 0.95)
plot(analysis)
analysis <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 6, sig.level = .05, power = 0.95)
plot(analysis)
analysis <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 6, sig.level = .05, power = 0.95)
plot(analysis)
data <- read.csv("train.csv", header = TRUE)
data <- subset(data, subset = data$Category == 'ASSAULT')
head(data)
str(data)
data <- sample_n(data, analysis$N)
levels(data$Category)
levels(data$DayOfWeek) <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday")
tbl_view <- table(data$DayOfWeek, data$Category == 'ASSAULT')
tbl_view
prop.table(tbl_view, 2)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
analysis <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 0, sig.level = .05, power = 0.95)
plot(analysis)
data <- read.csv("train.csv", header = TRUE)
data <- subset(data, subset = data$Category == 'ASSAULT')
data <- subset(data, subset = data$Category == 'ASSAULT')
head(data)
str(data)
data <- sample_n(data, analysis$N)
levels(data$Category)
levels(data$DayOfWeek) <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday")
tbl_view <- table(data$DayOfWeek, data$Category == 'ASSAULT')
tbl_view
prop.table(tbl_view, 2)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
analysis <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 0, sig.level = .05, power = 0.95)
plot(analysis)
install.packages('dplyr')
library(dplyr)
setwd("C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/CA")
list.files()
data <- read.csv("train.csv", header = TRUE)
analysis <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 6, sig.level = .05, power = 0.95)
plot(analysis)
install.packages('dplyr')
data <- read.csv("train.csv", header = TRUE)
data <- subset(data, subset = data$Category == 'ASSAULT')
head(data)
str(data)
data <- sample_n(data, analysis$N)
levels(data$DayOfWeek) <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday")
tbl_view <- table(data$DayOfWeek, data$Category == 'ASSAULT')
tbl_view
prop.table(tbl_view, 2)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
effect_size <- cohen.ES(test = c('chisq'), size = c('large'))
analysis <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 6, sig.level = .05, power = 0.95)
effect_size
analysis <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 6, sig.level = .05, power = 0.95)
plot(analysis)
data <- read.csv("train.csv", header = TRUE)
assault_data <- subset(data, subset = data$Category == 'ASSAULT')
head(assault_data)
str(assault_data)
assault_data <- sample_n(assualt_data, analysis$N)
assault_data <- sample_n(assuault_data, analysis$N)
assault_data <- sample_n(assualt_data, analysis$N)
assault_data <- sample_n(assault_data, analysis$N)
head(assault_data)
str(assault_data)
assault_data <- sample_n(assault_data, analysis$N+1)
assault_data <- subset(data, subset = data$Category == 'ASSAULT')
str(assault_data)
assault_data <- sample_n(assault_data, analysis$N+1)
str(assault_data)
tbl_view <- table(data$DayOfWeek, data$Category == 'ASSAULT')
tbl_view
prop.table(tbl_view, 2)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
tbl_view <- table(assault_data$DayOfWeek, assault_data$Category == 'ASSAULT')
tbl_view
prop.table(tbl_view, 2)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
effect_size <- cohen.ES(test = c('chisq'), size = c('small'))
effect_size
analysis <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 6, sig.level = .05, power = 0.95)
plot(analysis)
assault_data <- subset(data, subset = data$Category == 'ASSAULT')
head(assault_data)
str(assault_data)
assault_data <- sample_n(assault_data, analysis$N+1)
str(assault_data)
levels(data$Category)
levels(data$DayOfWeek) <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday")
tbl_view <- table(assault_data$DayOfWeek, assault_data$Category == 'ASSAULT')
tbl_view
levels(assault_data$DayOfWeek) <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday")
tbl_view <- table(assault_data$DayOfWeek, assault_data$Category == 'ASSAULT')
tbl_view
prop.table(tbl_view, 2)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
?sample_n
effect_size <- cohen.ES(test = c('chisq'), size = c('small'))
effect_size
analysis <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 6, sig.level = .05, power = 0.95)
plot(analysis)
data <- read.csv("train.csv", header = TRUE)
assault_data <- subset(data, subset = data$Category == 'ASSAULT')
head(assault_data)
str(assault_data)
assault_data <- sample_n(assault_data, analysis$N+1)
str(assault_data)
levels(data$Category)
levels(assualt_data$Category)
levels(assault_data$Category)
levels(assault_data$Category) <- c("ASSAULT")
levels(assault_data$DayOfWeek) <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday")
tbl_view <- table(assault_data$DayOfWeek, assault_data$Category == 'ASSAULT')
tbl_view
prop.table(tbl_view, 2)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
assault_data <- sample_n(assault_data, analysis$N+1)
assault_data <- subset(data, subset = data$Category == 'ASSAULT')
str(assault_data)
assault_data <- sample_n(assault_data, analysis$N+1)
str(assault_data)
levels(assault_data$Category)
levels(assault_data$DayOfWeek) <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday")
tbl_view <- table(assault_data$DayOfWeek, assault_data$Category == 'ASSAULT')
tbl_view
prop.table(tbl_view, 2)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
assault_data <- subset(data, subset = data$Category == 'ASSAULT')
head(assault_data)
str(assault_data)
?sample_n
assault_data <- sample_n(assault_data, analysis$N+1)
str(assault_data)
levels(assault_data$Category)
levels(assault_data$DayOfWeek) <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday")
tbl_view <- table(assault_data$DayOfWeek, assault_data$Category == 'ASSAULT')
tbl_view
prop.table(tbl_view, 2)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
analysis <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 0, sig.level = .05, power = 0.95)
plot(analysis)
assault_data <- subset(data, subset = data$Category == 'ASSAULT')
assault_data <- sample_n(assault_data, analysis$N+1)
str(assault_data)
levels(assault_data$DayOfWeek) <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday")
tbl_view <- table(assault_data$DayOfWeek, assault_data$Category == 'ASSAULT')
tbl_view
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
analysis <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 6, sig.level = .05, power = 0.95)
effect_size <- cohen.ES(test = c('chisq'), size = c('small'))
effect_size
analysis <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 6, sig.level = .05, power = 0.95)
plot(analysis)
data <- read.csv("train.csv", header = TRUE)
assault_data <- subset(data, subset = data$Category == 'ASSAULT')
head(assault_data)
str(assault_data)
set.seed(1); assault_data <- sample_n(assault_data, analysis$N+1)
str(assault_data)
levels(assault_data$Category)
levels(assault_data$DayOfWeek) <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday")
tbl_view <- table(assault_data$DayOfWeek, assault_data$Category == 'ASSAULT')
tbl_view
prop.table(tbl_view, 2)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
set.seed(1); assault_data <- sample_n(assault_data, analysis$N+1)
install.packages('pwr')
library(pwr)
effect_size <- cohen.ES(test = c('chisq'), size = c('small'))
effect_size
analysis <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 6, sig.level = .05, power = 0.95)
plot(analysis)
install.packages('dplyr')
library(dplyr)
setwd("C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/CA")
list.files()
data <- read.csv("train.csv", header = TRUE)
assault_data <- subset(data, subset = data$Category == 'ASSAULT')
head(assault_data)
str(assault_data)
set.seed(1); assault_data <- sample_n(assault_data, analysis$N+1)
str(assault_data)
levels(assault_data$DayOfWeek) <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday")
tbl_view <- table(assault_data$DayOfWeek, assault_data$Category == 'ASSAULT')
tbl_view
prop.table(tbl_view, 2)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
effect_size <- cohen.ES(test = c('chisq'), size = c('large'))
effect_size
analysis <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 6, sig.level = .05, power = 0.95)
plot(analysis)
assault_data <- subset(data, subset = data$Category == 'ASSAULT')
set.seed(2); assault_data <- sample_n(assault_data, analysis$N + 1)
levels(assault_data$DayOfWeek) <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday")
tbl_view <- table(assault_data$DayOfWeek, assault_data$Category == 'ASSAULT')
tbl_view
prop.table(tbl_view, 2)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
effect_size <- cohen.ES(test = c('chisq'), size = c('small'))
analysis <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 6, sig.level = .05, power = 0.95)
plot(analysis)
assault_data <- subset(data, subset = data$Category == 'ASSAULT')
set.seed(1); assault_data <- sample_n(assault_data, analysis$N + 1)
levels(assault_data$DayOfWeek) <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday")
tbl_view <- table(assault_data$DayOfWeek, assault_data$Category == 'ASSAULT')
tbl_view
prop.table(tbl_view, 2)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
number_of_records <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 6, sig.level = .05, power = 0.95)
plot(number_of_records)
assault_data <- subset(data, subset = data$Category == 'ASSAULT')
set.seed(1); assault_data <- sample_n(assault_data, number_of_records$N + 1)
str(assault_data)
# the Day of the week from Monday to Sunday
levels(assault_data$DayOfWeek) <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday")
tbl_view <- table(assault_data$DayOfWeek, assault_data$Category == 'ASSAULT')
tbl_view
prop.table(tbl_view, 2)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
tbl_view <- table(assault_data$DayOfWeek, assault_data$Category)
tbl_view
prop.table(tbl_view, 2)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
tbl_view <- table(assault_data$DayOfWeek, assault_data$Category == 'ASSAULT')
tbl_view
prop.table(tbl_view, 2)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
effect_size <- cohen.ES(test = c('chisq'), size = c('small'))
effect_size
number_of_records <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 6, sig.level = .05, power = 0.95)
plot(number_of_records)
data <- read.csv("train.csv", header = TRUE)
assault_data <- subset(data, subset = data$Category == 'ASSAULT')
head(assault_data)
str(assault_data)
#set the seed for reproducable results and add one to the number of 
#records required in the event the the number of required records gets 
#rounded down as its based on N from our analysis earlier
set.seed(1); assault_data <- sample_n(assault_data, number_of_records$N + 1)
str(assault_data)
# the Day of the week from Monday to Sunday
levels(assault_data$DayOfWeek) <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday")
tbl_view <- table(assault_data$DayOfWeek, assault_data$Category == 'ASSAULT')
tbl_view
prop.table(tbl_view, 2)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
pwr.2p.test(h = 0.8, n = NULL, sig.level = 0.05, power = 0.95)
pwr.2p.test(h = 0.2, n = NULL, sig.level = 0.05, power = 0.95)
pwr.2p.test(h = 0.2, n = NULL, sig.level = 0.05, power = 0.95)
head(assault_data2p)
assault_data2p <- subset(data, subset = data$Category == 'ASSAULT')
head(assault_data2p)
str(assault_data2p)
set.seed(2);
assault_data2p <- sample_n(assault_data2p, number_of_records$N + 1)
str(assault_data2p)
2p_num_records <- pwr.2p.test(h = 0.2, n = NULL, sig.level = 0.05, power = 0.95)
p_num_records <- pwr.2p.test(h = 0.2, n = NULL, sig.level = 0.05, power = 0.95)
p_num_records <- pwr.2p.test(h = 0.2, n = NULL, sig.level = 0.05, power = 0.95)
assault_data2p <- subset(data, subset = data$Category == 'ASSAULT')
head(assault_data2p)
str(assault_data2p)
#rounded down as its based on N from our analysis earlier set.seed(2); assault_data2p <- sample_n(assault_data2p, p_num_records$N + 1)
#rounded down as its based on N from our analysis earlier
p_num_records
assault_data2p <- sample_n(assault_data2p, p_num_records$n + 1)
#rounded down as its based on N from our analysis earlier set.seed(2); assault_data2p <- sample_n(assault_data2p, p_num_records$n + 1)
str(assault_data2p)
levels(assault_data2p$DayOfWeek) <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday")
tbl_view <- table(assault_data2p$DayOfWeek, assault_data2p$Category == 'ASSAULT')
tbl_view
?pwr
?prop.test
plot(stat_analysis_result)
stat_analysis_result
tbl_view <- table(assault_data$Category == 'ASSAULT', assault_data$DayOfWeek)
tbl_view
prop.table(tbl_view, 2)
tbl_view
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
plot(stat_analysis_result)
effect_size <- cohen.ES(test = c('chisq'), size = c('large'))
effect_size
number_of_records <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 6, sig.level = .05, power = 0.95)
plot(number_of_records)
assault_data <- subset(data, subset = data$Category == 'ASSAULT')
head(assault_data)
str(assault_data)
#set the seed for reproducable results and add one to the number of 
#records required in the event the the number of required records gets 
#rounded down as its based on N from our analysis earlier
set.seed(1); assault_data <- sample_n(assault_data, number_of_records$N + 1)
str(assault_data)
# order the Day of the week from Monday to Sunday for the table view
levels(assault_data$DayOfWeek) <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday")
tbl_view <- table(assault_data$DayOfWeek, assault_data$Category == 'ASSAULT')
tbl_view
prop.table(tbl_view, 2)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
effect_size <- cohen.ES(test = c('chisq'), size = c('medium'))
effect_size
number_of_records <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 6, sig.level = .05, power = 0.95)
plot(number_of_records)
assault_data <- subset(data, subset = data$Category == 'ASSAULT')
head(assault_data)
str(assault_data)
#set the seed for reproducable results and add one to the number of 
#records required in the event the the number of required records gets 
#rounded down as its based on N from our analysis earlier
set.seed(1); assault_data <- sample_n(assault_data, number_of_records$N + 1)
str(assault_data)
levels(assault_data$DayOfWeek) <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday")
tbl_view <- table(assault_data$DayOfWeek, assault_data$Category == 'ASSAULT')
tbl_view
prop.table(tbl_view, 2)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
effect_size <- cohen.ES(test = c('chisq'), size = c('small'))
effect_size
number_of_records <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 6, sig.level = .05, power = 0.95)
plot(number_of_records)
assault_data <- subset(data, subset = data$Category == 'ASSAULT')
head(assault_data)
str(assault_data)
#set the seed for reproducable results and add one to the number of 
#records required in the event the the number of required records gets 
#rounded down as its based on N from our analysis earlier
set.seed(1); assault_data <- sample_n(assault_data, number_of_records$N + 1)
str(assault_data)
levels(assault_data$DayOfWeek) <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday")
tbl_view <- table(assault_data$DayOfWeek, assault_data$Category == 'ASSAULT')
tbl_view
prop.table(tbl_view, 2)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
install.packages('pwr') install.packages('dplyr') library(pwr) library(dplyr) #----------------------------------------------------------------------------------------------# #Hypothesis #reminder: Example 1 Variable A does not relate to Variable B, #H0: There is no relationship between the number of assaults and the Police District #H1: There is a relationship between the number of assaults and the Police District #----------------------------------------------------------------------------------------------# #-----------------------------------------CHISQUARE TEST---------------------------------------# #calculate the effect size for the chi square analysis #choosing a lerge effect size as this is the standard effect size when testing effect_size <- cohen.ES(test = c('chisq'), size = c('large')) effect_size #calculating the number of records needed to test H0 number_of_records <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 9, sig.level = .05, power = 0.95) plot(number_of_records) #set the WD and import the data into a df setwd("C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/CA") list.files() data <- read.csv("train.csv", header = TRUE)
levels(data$Category)
assault_data <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE') str(assault_data) #set the seed for reproducable results and add one to the number of  #records required in the event the the number of required records gets  #rounded down as its based on N from our analysis earlier set.seed(1); assault_data <- sample_n(assault_data, number_of_records$N + 1) str(assault_data) #create tabular view of the data to later apply the chi square test tbl_view <- table(assault_data$Category == 'SEX OFFENSES FORCIBLE', assault_data$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
assault_data <- sample_n(assault_data, number_of_records$N + 1) str(assault_data) #create tabular view of the data to later apply the chi square test tbl_view <- table(assault_data$Category == 'SEX OFFENSES FORCIBLE', assault_data$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
assault_data <- sample_n(assault_data, number_of_records$N + 1) str(assault_data) #create tabular view of the data to later apply the chi square test tbl_view <- table(assault_data$Category == 'SEX OFFENSES FORCIBLE', assault_data$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
assault_data <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE') str(assault_data) #set the seed for reproducable results and add one to the number of  #records required in the event the the number of required records gets  #rounded down as its based on N from our analysis earlier #set.seed(1); assault_data <- sample_n(assault_data, number_of_records$N + 1) str(assault_data) #create tabular view of the data to later apply the chi square test tbl_view <- table(assault_data$Category == 'SEX OFFENSES FORCIBLE', assault_data$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
assault_data <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE') str(assault_data) #set the seed for reproducable results and add one to the number of  #records required in the event the the number of required records gets  #rounded down as its based on N from our analysis earlier #set.seed(1); assault_data <- sample_n(assault_data, number_of_records$N + 1) str(assault_data) #create tabular view of the data to later apply the chi square test tbl_view <- table(assault_data$Category == 'SEX OFFENSES FORCIBLE', assault_data$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
assault_data <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE') str(assault_data) #set the seed for reproducable results and add one to the number of  #records required in the event the the number of required records gets  #rounded down as its based on N from our analysis earlier #set.seed(1); assault_data <- sample_n(assault_data, number_of_records$N + 1) str(assault_data) #create tabular view of the data to later apply the chi square test tbl_view <- table(assault_data$Category == 'SEX OFFENSES FORCIBLE', assault_data$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
effect_size <- cohen.ES(test = c('chisq'), size = c('small'))
effect_size
#calculating the number of records needed to test H0
number_of_records <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 9, sig.level = .05, power = 0.95)
plot(number_of_records)
data_of_interest <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE')
str(data_of_interest)
data_of_interest <- sample_n(assault_data, number_of_records$N + 1)
data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1)
str(data_of_interest)
tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict)
tbl_view
prop.table(tbl_view, 1)
stat_analysis_result <- chisq.test(tbl_view)
stat_analysis_result
effect_size <- cohen.ES(test = c('chisq'), size = c('medium')) effect_size #calculating the number of records needed to test H0 number_of_records <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 9, sig.level = .05, power = 0.95) plot(number_of_records)
effect_size <- cohen.ES(test = c('chisq'), size = c('medium')) effect_size #calculating the number of records needed to test H0 number_of_records <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 9, sig.level = .05, power = 0.95) plot(number_of_records) #set the WD and import the data into a df setwd("C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/CA") list.files() data <- read.csv("train.csv", header = TRUE) levels(data$Category) #create a new df from only the assault data data_of_interest <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE') str(data_of_interest) #set the seed for reproducable results and add one to the number of  #records required in the event the the number of required records gets  #rounded down as its based on N from our analysis earlier #set.seed(1); data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1) str(data_of_interest) #create tabular view of the data to later apply the chi square test tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
#choosing a lerge effect size as this is the standard effect size when testing effect_size <- cohen.ES(test = c('chisq'), size = c('large')) effect_size #calculating the number of records needed to test H0 number_of_records <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 9, sig.level = .05, power = 0.95) plot(number_of_records) #set the WD and import the data into a df setwd("C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/CA") list.files() data <- read.csv("train.csv", header = TRUE) levels(data$Category) #create a new df from only the assault data data_of_interest <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE') str(data_of_interest) #set the seed for reproducable results and add one to the number of  #records required in the event the the number of required records gets  #rounded down as its based on N from our analysis earlier #set.seed(1); data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1) str(data_of_interest) #create tabular view of the data to later apply the chi square test tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
#rounded down as its based on N from our analysis earlier set.seed(1); data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1) str(data_of_interest) #create tabular view of the data to later apply the chi square test tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1) str(data_of_interest) #create tabular view of the data to later apply the chi square test tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1) str(data_of_interest) #create tabular view of the data to later apply the chi square test tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
#set.seed(1); data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1) str(data_of_interest) #create tabular view of the data to later apply the chi square test tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
#set.seed(1); data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1) str(data_of_interest) #create tabular view of the data to later apply the chi square test tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
#set.seed(1); data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1) str(data_of_interest) #create tabular view of the data to later apply the chi square test tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
#set.seed(1); data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1) str(data_of_interest) #create tabular view of the data to later apply the chi square test tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
data_of_interest <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE') str(data_of_interest) #set the seed for reproducable results and add one to the number of  #records required in the event the the number of required records gets  #rounded down as its based on N from our analysis earlier #set.seed(1); data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1) str(data_of_interest) #create tabular view of the data to later apply the chi square test tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
data_of_interest <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE') str(data_of_interest) #set the seed for reproducable results and add one to the number of  #records required in the event the the number of required records gets  #rounded down as its based on N from our analysis earlier #set.seed(1); data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1) str(data_of_interest) #create tabular view of the data to later apply the chi square test tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
#create a new df from only the assault data data_of_interest <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE') str(data_of_interest) #set the seed for reproducable results and add one to the number of  #records required in the event the the number of required records gets  #rounded down as its based on N from our analysis earlier set.seed(1); data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1) str(data_of_interest) #create tabular view of the data to later apply the chi square test tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
#create a new df from only the assault data data_of_interest <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE') str(data_of_interest) #set the seed for reproducable results and add one to the number of  #records required in the event the the number of required records gets  #rounded down as its based on N from our analysis earlier set.seed(1); data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1) str(data_of_interest) #create tabular view of the data to later apply the chi square test tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
#create a new df from only the assault data data_of_interest <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE') str(data_of_interest) #set the seed for reproducable results and add one to the number of  #records required in the event the the number of required records gets  #rounded down as its based on N from our analysis earlier set.seed(1); data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1) str(data_of_interest) #create tabular view of the data to later apply the chi square test tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
ct size when testing effect_size <- cohen.ES(test = c('chisq'), size = c('small')) effect_size #calculating the number of records needed to test H0 number_of_records <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 9, sig.level = .05, power = 0.95) plot(number_of_records) #set the WD and import the data into a df setwd("C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/CA") list.files() data <- read.csv("train.csv", header = TRUE) levels(data$Category) #create a new df from only the assault data data_of_interest <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE') str(data_of_interest) #set the seed for reproducable results and add one to the number of  #records required in the event the the number of required records gets  #rounded down as its based on N from our analysis earlier set.seed(1); data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1) str(data_of_interest) #create tabular view of the data to later apply the chi square test tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
#create a new df from only the assault data data_of_interest <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE') str(data_of_interest) #set the seed for reproducable results and add one to the number of  #records required in the event the the number of required records gets  #rounded down as its based on N from our analysis earlier #set.seed(1); data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1) str(data_of_interest) #create tabular view of the data to later apply the chi square test tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
#create a new df from only the assault data data_of_interest <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE') str(data_of_interest) #set the seed for reproducable results and add one to the number of  #records required in the event the the number of required records gets  #rounded down as its based on N from our analysis earlier #set.seed(1); data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1) str(data_of_interest) #create tabular view of the data to later apply the chi square test tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
#create a new df from only the assault data data_of_interest <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE') str(data_of_interest) #set the seed for reproducable results and add one to the number of  #records required in the event the the number of required records gets  #rounded down as its based on N from our analysis earlier #set.seed(1); data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1) str(data_of_interest) #create tabular view of the data to later apply the chi square test tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
#create a new df from only the assault data data_of_interest <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE') str(data_of_interest) #set the seed for reproducable results and add one to the number of  #records required in the event the the number of required records gets  #rounded down as its based on N from our analysis earlier #set.seed(1); data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1) str(data_of_interest) #create tabular view of the data to later apply the chi square test tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
#create a new df from only the assault data data_of_interest <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE') str(data_of_interest) #set the seed for reproducable results and add one to the number of  #records required in the event the the number of required records gets  #rounded down as its based on N from our analysis earlier #set.seed(1); data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1) str(data_of_interest) #create tabular view of the data to later apply the chi square test tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
ct size when testing effect_size <- cohen.ES(test = c('chisq'), size = c('large')) effect_size #calculating the number of records needed to test H0 number_of_records <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 9, sig.level = .05, power = 0.95) plot(number_of_records)
#create a new df from only the assault data data_of_interest <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE') str(data_of_interest) #set the seed for reproducable results and add one to the number of  #records required in the event the the number of required records gets  #rounded down as its based on N from our analysis earlier #set.seed(1); data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1) str(data_of_interest) #create tabular view of the data to later apply the chi square test tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
#create a new df from only the assault data data_of_interest <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE') str(data_of_interest) #set the seed for reproducable results and add one to the number of  #records required in the event the the number of required records gets  #rounded down as its based on N from our analysis earlier set.seed(1); data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1) str(data_of_interest) #create tabular view of the data to later apply the chi square test tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
data_of_interest <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE') str(data_of_interest)
levels(data$Category)
levels(data$Category) #create a new df from only the assault data data_of_interest <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE') str(data_of_interest) #set the seed for reproducable results and add one to the number of  #records required in the event the the number of required records gets  #rounded down as its based on N from our analysis earlier set.seed(1); data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1) str(data_of_interest) #create tabular view of the data to later apply the chi square test tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict) tbl_view # review the proportion of the the data in the table by row.  prop.table(tbl_view, 1) #apply the chi square test to the table containing the assault and District data stat_analysis_result <- chisq.test(tbl_view) # fail to reject H0 based on p-value of .18 stat_analysis_result
install.packages('pwr') install.packages('dplyr') library(pwr) library(dplyr)
#calculate the effect size for the chi square analysis #choosing a lerge effect size as this is the standard effect size when testing effect_size <- cohen.ES(test = c('chisq'), size = c('large')) effect_size #calculating the number of records needed to test H0 number_of_records <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 9, sig.level = .05, power = 0.95) plot(number_of_records)
#calculate the effect size for the chi square analysis #choosing a lerge effect size as this is the standard effect size when testing effect_size <- cohen.ES(test = c('chisq'), size = c('large')) effect_size #calculating the number of records needed to test H0 number_of_records <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 9, sig.level = .05, power = 0.95) plot(number_of_records)
setwd("C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/CA") list.files() data <- read.csv("train.csv", header = TRUE) levels(data$Category) #create a new df from only the 'SEX OFFENSES FORCIBLE' data data_of_interest <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE') str(data_of_interest)
set.seed(1);
data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1)
str(data_of_interest)
#create tabular view of the data to later apply the chi square test
tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict)
tbl_view
# review the proportion of the the data in the table by row. 
prop.table(tbl_view, 1)
#apply the chi square test to the table containing the Crime and District data
stat_analysis_result <- chisq.test(tbl_view)
# reject H0 based on p-value of .0004124
stat_analysis_result
data <- read.csv("train.csv", header = TRUE)
data_of_interest <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE')
str(data_of_interest)
#set the seed for reproducable results and add one to the number of 
#records required in the event the the number of required records gets 
#rounded down as its based on N from our analysis earlier
set.seed(1);
number_of_records <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 9, sig.level = .05, power = 0.95)
plot(number_of_records)
effect_size <- cohen.ES(test = c('chisq'), size = c('large'))
effect_size
install.packages('pwr') install.packages('dplyr') library(pwr) library(dplyr)
effect_size <- cohen.ES(test = c('chisq'), size = c('large'))
effect_size
#calculating the number of records needed to test H0
number_of_records <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 9, sig.level = .05, power = 0.95)
plot(number_of_records)
#choosing a lerge effect size as this is the standard effect size when testing
effect_size <- cohen.ES(test = c('chisq'), size = c('large'))
effect_size
#calculating the number of records needed to test H0
install.packages('pwr')
install.packages('dplyr')
library(pwr)
library(dplyr)
effect_size <- cohen.ES(test = c('chisq'), size = c('large'))
effect_size
#calculating the number of records needed to test H0
number_of_records <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 9, sig.level = .05, power = 0.95)
plot(number_of_records)
#set the WD and import the data into a df
setwd("C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/CA")
list.files()
data <- read.csv("train.csv", header = TRUE)
levels(data$Category)
#create a new df from only the 'SEX OFFENSES FORCIBLE' data
data_of_interest <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE')
str(data_of_interest)
#set the seed for reproducable results and add one to the number of 
#records required in the event the the number of required records gets 
#rounded down as its based on N from our analysis earlier
set.seed(1);
data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1)
str(data_of_interest)
#create tabular view of the data to later apply the chi square test
tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$Category == 'ASSAULT', data_of_interest$PdDistrict)
str(tbl_view)
prop.table(tbl_view, 1)
tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$Category == 'ASSAULT', data_of_interest$PdDistrict)
str(tbl_view)
tbl_view
# review the proportion of the the data in the table by row. 
prop.table(tbl_view, 1)
#apply the chi square test to the table containing the Crime and District data
stat_analysis_result <- chisq.test(tbl_view)
# reject H0 based on p-value of .0004124
tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict)
str(tbl_view)
tbl_view
# review the proportion of the the data in the table by row. 
prop.table(tbl_view, 1)
#apply the chi square test to the table containing the Crime and District data
stat_analysis_result <- chisq.test(tbl_view)
# reject H0 based on p-value of .0004124
stat_analysis_result
install.packages('pwr') install.packages('dplyr') library(pwr) library(dplyr) #----------------------------------------------------------------------------------------------# #Hypothesis #reminder: Example 1 Variable A does not relate to Variable B, #H0: There is no relationship between the number of assaults and the Police District #H1: There is a relationship between the number of assaults and the Police District #----------------------------------------------------------------------------------------------# #-----------------------------------------CHISQUARE TEST---------------------------------------# #calculate the effect size for the chi square analysis #choosing a lerge effect size as this is the standard effect size when testing effect_size <- cohen.ES(test = c('chisq'), size = c('large')) effect_size #calculating the number of records needed to test H0 number_of_records <- pwr.chisq.test(w = effect_size$effect.size, N = NULL, df = 9, sig.level = .05, power = 0.95) plot(number_of_records) #set the WD and import the data into a df setwd("C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/CA") list.files() data <- read.csv("train.csv", header = TRUE) levels(data$Category) #create a new df from only the 'SEX OFFENSES FORCIBLE' data data_of_interest <- subset(data, data$Category == 'SEX OFFENSES FORCIBLE') str(data_of_interest) #set the seed for reproducable results and add one to the number of  #records required in the event the the number of required records gets  #rounded down as its based on N from our analysis earlier set.seed(1); data_of_interest <- sample_n(data_of_interest, number_of_records$N + 1) str(data_of_interest)
tbl_view <- table(as.character(data_of_interest$Category == 'SEX OFFENSES FORCIBLE'), data_of_interest$PdDistrict)
tbl_view
str(tbl_view)
tbl_view <- as.characher(table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict))
tbl_view <- as.character(table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict))
str(tbl_view)
tbl_view <- as.numeric(table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict))
str(tbl_view)
tbl_view
tbl_view <- as.numeric(table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict))
str(tbl_view)
tbl_view
prop.table(tbl_view, 1)
tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict)
str(tbl_view)
tbl_view
tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict)
str(tbl_view)
tbl_view <- as.table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict)
tbl_view <- table(data_of_interest$Category == 'SEX OFFENSES FORCIBLE', data_of_interest$PdDistrict)
str(tbl_view)
tbl_view
? table

getwd()
wd <- "C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/Practical/Practical 4/NI Crime Data"
setwd(wd)
getwd()
list.files()
open_folder <- NULL
getwd() wd <- "C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/Practical/Practical 4/NI Crime Data" setwd(wd) getwd() list.files() open_folder <- NULL for (folder in list.files())     {     open_folder <- wd + folder     } return open_folder
wd <- "C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/Practical/Practical 4/NI Crime Data/"
setwd(wd)
getwd()
list.files()
Aopen_folder <- NULL for (folder in list.files())     {     open_folder <- wd + folder     Aopen_folder <- open_folder     } return Aopen_folder
open_folder <- NULL for (folder in list.files())     {     open_folder <- paste(wd, "/", folder)     } return(open_folder)
open_folder
open_folder <- NULL for (folder in list.files())     {     open_folder <- paste(wd, folder)     } return(open_folder) open_folder
list.files()
getwd() wd <- "C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/Practical/Practical 4/NI Crime Data/" setwd(wd) getwd() list.files()
open_folder <- NULL for (folder in list.files())     {     open_folder <- paste(wd, folder)     } return(open_folder) open_folder
open_folder
list.files()
open_folder <- NULL for (folder in list.files())     {     open_folder <- paste(wd, folder)     } return(open_folder)
open_folder <- NULL for (folder in list.files())     {     open_folder <- paste(wd, folder, sep = "")     } return(open_folder) open_folder
list.files()
getwd() wd <- "C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/Practical/Practical 4/NI Crime Data/" setwd(wd) getwd() list.files() #function to import each csv file and bind them together into one dataframe combine_results <- function(file_list) {     all_ni_crime_data <- NULL     open_folder <- NULL     for (folder in file_list) {         open_folder <- paste(wd, folder, sep = "")         setwd(open_folder)         crime_data_read <- read.csv(header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, crime_data_read)     }     setwd(wd)     return(all_ni_crime_data) }
getwd() wd <- "C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/Practical/Practical 4/NI Crime Data/" setwd(wd) getwd() folder_list <- list.files() #function to import each csv file and bind them together into one dataframe combine_results <- function(file_list) {     all_ni_crime_data <- NULL     open_folder <- NULL     for (folder in file_list) {         open_folder <- paste(wd, folder, sep = "")         setwd(open_folder)         crime_data_read <- read.csv(header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, crime_data_read)     }     setwd(wd)     return(all_ni_crime_data) } combine_results(folder_list)
getwd() wd <- "C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/Practical/Practical 4/NI Crime Data/" setwd(wd) getwd() folder_list <- list.files() #function to import each csv file and bind them together into one dataframe combine_results <- function(file_list) {     all_ni_crime_data <- NULL     open_folder <- NULL     for (folder in file_list) {         open_folder <- paste(wd, folder, sep = "")         file <- list.files()         setwd(open_folder)         crime_data_read <- read.csv(file - file, header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, crime_data_read)     }     setwd(wd)     return(all_ni_crime_data) } combine_results(folder_list)
rm(Aopen_folder, envir = as.environment(".GlobalEnv"))
getwd() wd <- "C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/Practical/Practical 4/NI Crime Data/" setwd(wd) getwd() folder_list <- list.files() #function to import each csv file and bind them together into one dataframe combine_results <- function(file_list) {     all_ni_crime_data <- NULL     open_folder <- NULL     for (folder in file_list) {         open_folder <- paste(wd, folder, sep = "")         file <- list.files()         setwd(open_folder)         crime_data_read <- read.csv(file = file, header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, crime_data_read)     }     setwd(wd)     return(all_ni_crime_data) } combine_results(folder_list)
getwd() wd <- "C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/Practical/Practical 4/NI Crime Data/" setwd(wd) getwd() folder_list <- list.files() #function to import each csv file and bind them together into one dataframe combine_results <- function(file_list) {     all_ni_crime_data <- NULL     open_folder <- NULL     for (folder in file_list) {         open_folder <- paste(wd, folder, sep = "")         filename <- list.files()         setwd(open_folder)         crime_data_read <- read.csv(file = filename, header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, crime_data_read)     }     setwd(wd)     return(all_ni_crime_data) } combine_results(folder_list)
rm(folder, envir = as.environment(".GlobalEnv"))
getwd() wd <- "C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/Practical/Practical 4/NI Crime Data/" setwd(wd) getwd() folder_list <- list.files() #function to import each csv file and bind them together into one dataframe combine_results <- function(file_list) {     all_ni_crime_data <- NULL     open_folder <- NULL     for (folder in folder_list) {         open_folder <- paste(wd, folder, sep = "")         filename <- list.files()         setwd(open_folder)         crime_data_read <- read.csv(file = filename, header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, crime_data_read)     }     setwd(wd)     return(all_ni_crime_data) } combine_results(folder_list)
getwd() wd <- "C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/Practical/Practical 4/NI Crime Data/" setwd(wd) getwd() folder_list <- list.files() #function to import each csv file and bind them together into one dataframe combine_results <- function(file_list) {     all_ni_crime_data <- NULL     open_folder <- NULL     for (folder in folder_list) {         open_folder <- paste(wd, folder_list[folder], sep = "")         filename <- list.files()         setwd(open_folder)         crime_data_read <- read.csv(file = filename, header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, crime_data_read)     }     setwd(wd)     return(all_ni_crime_data) } combine_results(folder_list)
getwd() wd <- "C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/Practical/Practical 4/NI Crime Data/" setwd(wd) getwd() folder_list <- list.files() #function to import each csv file and bind them together into one dataframe combine_results <- function(file_list) {     all_ni_crime_data <- NULL     open_folder <- NULL     for (folder in folder_list) {         open_folder <- paste(wd, folder_list[folder], sep = "")         filename <- list.files()         crime_data_read <- read.csv(file = filename, header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, crime_data_read)     }     setwd(wd)     return(all_ni_crime_data) } combine_results(folder_list)
getwd() wd <- "C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/Practical/Practical 4/NI Crime Data/" setwd(wd) getwd() folder_list <- list.files() #function to import each csv file and bind them together into one dataframe combine_results <- function(folder_list) {     all_ni_crime_data <- NULL     open_folder <- NULL     for (folder in folder_list) {         open_folder <- paste(wd, folder_list[folder], sep = "")         filename <- list.files()         crime_data_read <- read.csv(file = filename, header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, crime_data_read)     }     setwd(wd)     return(all_ni_crime_data) } combine_results(folder_list)
getwd() wd <- "C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/Practical/Practical 4/NI Crime Data/" setwd(wd) getwd() folder_list <- list.files() open_folder <- paste(wd, folder_list[1], sep = "") open_folder
list.files()
folder_list <- list.files() open_folder <- paste(wd, folder_list[1], sep = "") open_folder setwd(open_folder) list.files()
getwd() wd <- "C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/Practical/Practical 4/NI Crime Data/" setwd(wd) getwd() folder_list <- list.files() open_folder <- paste(wd, folder_list[1], sep = "") open_folder setwd(open_folder) list.files() my_data <- read.csv(open_folder, header = TRUE, stringsAsFactors = FALSE) my_data
getwd() wd <- "C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/Practical/Practical 4/NI Crime Data/" setwd(wd) getwd() folder_list <- list.files() open_folder <- paste(wd, folder_list[1], sep = "") open_folder setwd(open_folder) list.files() my_data <- read.csv(file = open_folder, header = TRUE, stringsAsFactors = FALSE) my_data
list.files()
getwd() wd <- "C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/Practical/Practical 4/NI Crime Data/" setwd(wd) getwd() folder_list <- list.files() open_folder <- paste(wd, folder_list[1], sep = "") open_folder setwd(open_folder) list.files() my_data <- read.csv(file = list.files(), header = TRUE, stringsAsFactors = FALSE) my_data
getwd() wd <- "C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/Practical/Practical 4/NI Crime Data/" setwd(wd)
combine_results <- function(folder_list) {     all_ni_crime_data <- NULL     open_folder <- NULL     for (folder in folder_list) {         open_folder <- paste(wd, folder_list[folder], sep = "")         open_folder         setwd(open_folder)         my_data <- read.csv(file = list.files(), header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)     }     setwd(wd)     return(all_ni_crime_data) }
combine_results(folder_list)
#function to import each csv file and bind them together into one dataframe combine_results <- function(folder_list) {     all_ni_crime_data <- NULL     open_folder <- NULL     for (i in folder_list) {         open_folder <- paste(wd, folder_list[i], sep = "")         open_folder         setwd(open_folder)         my_data <- read.csv(file = list.files(), header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)     }     setwd(wd)     return(all_ni_crime_data) }
combine_results(folder_list)
len(list.files())
length(list.files())
combine_results <- function(folder_list) {     all_ni_crime_data <- NULL     open_folder <- NULL     i = length(list.files())     for (i in folder_list) {         open_folder <- paste(wd, folder_list[i], sep = "")         open_folder         setwd(open_folder)         my_data <- read.csv(file = list.files(), header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)     }     setwd(wd)     return(all_ni_crime_data) }
combine_results(folder_list)
rm(my_data, envir = as.environment(".GlobalEnv"))
#function to import each csv file and bind them together into one dataframe combine_results <- function(folder_list) {     all_ni_crime_data <- NULL     open_folder <- NULL     for (folder  in folder_list) {         open_folder <- paste(wd, folder, sep = "")         open_folder         setwd(open_folder)         my_data <- read.csv(file = list.files(), header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)     }     setwd(wd)     return(all_ni_crime_data) }
combine_results(folder_list)
my_data <- combine_results(folder_list)
head(my_data)> head(my_data)
head(my_data)
str(my_data)
table(my_data$Context)
table(my_data$Last.outcome.category)
table(my_data$Crime.type)
rm(open_folder, envir = as.environment(".GlobalEnv"))
getwd() wd <- "C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/Practical/Practical 4/NI Crime Data/" setwd(wd) #function to import each csv file and bind them together into one dataframe combine_results <- function(folder_list) {     all_ni_crime_data <- NULL     open_folder <- NULL     for (folder  in folder_list) {         open_folder <- paste(wd, folder, sep = "")         open_folder         setwd(open_folder)         my_data <- read.csv(file = list.files(), header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)     }     setwd(wd)     return(all_ni_crime_data) } AllNICrimeData <- combine_results(folder_list) str(AllNICrimeData)
getwd() wd <- "C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/Practical/Practical 4/NI Crime Data/" setwd(wd) folder_list <- list.files() #function to import each csv file and bind them together into one dataframe combine_results <- function(folder_list) {     all_ni_crime_data <- NULL     open_folder <- NULL     for (folder  in folder_list) {         open_folder <- paste(wd, folder, sep = "")         open_folder         setwd(open_folder)         my_data <- read.csv(file = list.files(), header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)     }     setwd(wd)     return(all_ni_crime_data) } AllNICrimeData <- combine_results(folder_list) str(AllNICrimeData)
write.csv(AllNICrimeData, "AllNICrimeData.csv")
folder_list <- list.files(patter != ".csv")
folder_list <- list.files(pattern != ".csv")
?list.files()
folder_list <- list.dirs()
folder_list
folder_list <- list.files()
folder_list
folder_list <- list.files(pattern != "*.csv")
folder_list <- list.files(path = wd, pattern != "*.csv")
folder_list <- list.files(path = wd, pattern = "*.csv")
folder_list
folder_list <- list.dirs(path = wd, full.names = FALSE)
folder_list
combine_results <- function(folder_list) {     all_ni_crime_data <- NULL     open_folder <- NULL     for (folder  in folder_list) {         open_folder <- paste(wd, folder, sep = "")         open_folder         setwd(open_folder)         my_data <- read.csv(file = list.files(), header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)     }     setwd(wd)     return(all_ni_crime_data) }
combine_results <- function(folder_list) {     all_ni_crime_data <- NULL     open_folder <- NULL     for (folder  in folder_list) {         open_folder <- paste(wd, folder, sep = "")         open_folder         setwd(open_folder)         my_data <- read.csv(file = list.files(), header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)     }     setwd(wd)     return(all_ni_crime_data) }
rm(wd, envir = as.environment(".GlobalEnv"))
getwd() wd <- "C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/Practical/Practical 4/NI Crime Data/" setwd(wd) folder_list <- list.dirs(path = wd, full.names = FALSE) #function to import each csv file and bind them together into one dataframe combine_results <- function(folder_list) {     all_ni_crime_data <- NULL     open_folder <- NULL     for (folder  in folder_list) {         open_folder <- paste(wd, folder, sep = "")         open_folder         setwd(open_folder)         my_data <- read.csv(file = list.files(), header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)     }     setwd(wd)     return(all_ni_crime_data) } AllNICrimeData <- combine_results(folder_list) str(AllNICrimeData) write.csv(AllNICrimeData, "AllNICrimeData.csv")
rm(wd, envir = as.environment(".GlobalEnv"))
getwd() wd <- "C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/Practical/Practical 4/NI Crime Data/" setwd(wd) folder_list <- list.files() #function to import each csv file and bind them together into one dataframe combine_results <- function(folder_list) {     all_ni_crime_data <- NULL     open_folder <- NULL     for (folder  in folder_list) {         open_folder <- paste(wd, folder, sep = "")         setwd(open_folder)         my_data <- read.csv(file = list.files(), header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)     }     setwd(wd)     return(all_ni_crime_data) } AllNICrimeData <- combine_results(folder_list) str(AllNICrimeData)
list.dirs(path = wd, full.names = FALSE)
dir_list <- list.dirs(path = wd, full.names = FALSE)
length(dir_list)
length(folder_list)
length(dir_list[2])
length(dir_list[3])
dir_list <- dir_list[2:length(dir_list)])
dir_list <- dir_list[2:length(dir_list)]
dir_list
rm(wd, envir = as.environment(".GlobalEnv"))
getwd() wd <- "C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/Practical/Practical 4/NI Crime Data/" setwd(wd) folder_list <- list.dirs(path = wd, full.names = FALSE) folder_list <- dir_list[2:length(dir_list)] #function to import each csv file and bind them together into one dataframe combine_results <- function(folder_list) {     all_ni_crime_data <- NULL     open_folder <- NULL     for (folder  in folder_list) {         open_folder <- paste(wd, folder, sep = "")         setwd(open_folder)         my_data <- read.csv(file = list.files(), header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)     }     setwd(wd)     return(all_ni_crime_data) } AllNICrimeData <- combine_results(folder_list) str(AllNICrimeData) write.csv(AllNICrimeData, "AllNICrimeData.csv")
getwd() wd <- "C:/Users/Connor/Documents/MSc Computing in Big Data Analytics/Data Science/Practical/Practical 4/NI Crime Data/" setwd(wd) folder_list <- list.dirs(path = wd, full.names = FALSE) folder_list <- folder_list[2:length(folder_list)] #function to import each csv file and bind them together into one dataframe combine_results <- function(folder_list) {     all_ni_crime_data <- NULL     open_folder <- NULL     for (folder  in folder_list) {         open_folder <- paste(wd, folder, sep = "")         setwd(open_folder)         my_data <- read.csv(file = list.files(), header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)     }     setwd(wd)     return(all_ni_crime_data) } AllNICrimeData <- combine_results(folder_list) str(AllNICrimeData) write.csv(AllNICrimeData, "AllNICrimeData.csv")
AllNICrimeData2 <- combine_results(folder_list) str(AllNICrimeData2) write.csv(AllNICrimeData, "AllNICrimeData2.csv")
getwd()
?select
getwd()
getwd()
csv_list <- list.files(path = wd, full.names = FALSE)
wd <- geted()
getwd()
wd <- getwd()
csv_list <- list.files(path = wd, full.names = FALSE)
csv_list
getwd()
wd <- getwd()
csv_list <- list.files(path = wd, full.names = FALSE, pattern = "*.csv")
csv_list
getwd()
getwd()
wd <- getwd()
csv_list <- list.files(path = wd, pattern = "*.csv", full.names = FALSE,)
csv_list
getwd() wd <- getwd() csv_list <- list.files(path = wd, pattern = "*.csv", full.names = FALSE,) csv_list #function to import each csv file and bind them together into one dataframe combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (csv in csv_list)         {         my_data <- read.csv(header = TRUE, paste(wd, csv_file, sep = ""), stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) } AllNICrimeData <- combine_results(csv_list) str(AllNICrimeData)
getwd()
wd <- getwd()
csv_list <- list.files(path = wd, pattern = "*.csv", full.names = FALSE,)
csv_list
combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (csv in csv_list)         {         my_data <- read.csv(header = TRUE, paste(wd, csv_file, sep = ""), stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) }
combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (csv in csv_list)         {         my_data <- read.csv(header = TRUE, paste(wd, csv_file, sep = ""), stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) }
AllNICrimeData <- combine_results(csv_list)
csv_list <- list.files(path = wd, pattern = "*.csv", full.names = FALSE,)
csv_list
wd <- getwd() csv_list <- list.files(path = wd, pattern = "*.csv", full.names = FALSE,) csv_list #function to import each csv file and bind them together into one dataframe combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (csv in csv_list)         {         my_data <- read.csv(header = TRUE, paste(wd, csv_file, sep = ""), stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) } AllNICrimeData <- combine_results(csv_list)
getwd() wd <- getwd() csv_list <- list.files(path = wd, pattern = "*.csv", full.names = FALSE,) csv_list #function to import each csv file and bind them together into one dataframe combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (csv in csv_list)         {         my_data <- read.csv(header = TRUE, paste(wd, csv_list, sep = ""), stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) } AllNICrimeData <- combine_results(csv_list)
combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (csv in csv_list)         {         my_data <- read.csv(header = TRUE, paste(wd, csv_list, sep = "/"), stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) } AllNICrimeData <- combine_results(csv_list)
getwd()
wd <- getwd()
csv_list <- list.files(path = wd, pattern = "*.csv", full.names = FALSE,)
csv_list
combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (csv in csv_list)         {         my_data <- read.csv(header = TRUE, paste(wd, csv_list, sep = ""), stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) } AllNICrimeData <- combine_results(csv_list)
getwd()
wd <- setwd("c:/Users/Connor/Sources/Repos/DataScience/Ni_Crime/Data/")
wd <- setwd("c:/Users/Connor/Source/Repos/DataScience/Ni_Crime/Data/")
csv_list <- list.files(path = wd, pattern = "*.csv", full.names = FALSE,)
csv_list
combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (csv in csv_list)         {         my_data <- read.csv(header = TRUE, paste(wd, csv_list, sep = ""), stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) } AllNICrimeData <- combine_results(csv_list)
combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (file in csv_list)         {         my_data <- read.csv(header = TRUE, paste(wd, csv_list, sep = ""), stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) } AllNICrimeData <- combine_results(csv_list)
combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (file in csv_list)         {         my_data <- read.csv(header = TRUE, paste(wd, csv_list[file], sep = ""), stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) } AllNICrimeData <- combine_results(csv_list)
wd <- setwd("c:/Users/Connor/Source/Repos/DataScience/Ni_Crime/Data")
csv_list <- list.files(path = wd, pattern = "*.csv", full.names = FALSE,)
csv_list
#function to import each csv file and bind them together into one dataframe combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (file in csv_list)         {         my_data <- read.csv(header = TRUE, paste(wd, csv_list[file], sep = ""), stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) } AllNICrimeData <- combine_results(csv_list)
filename <- paste(wd, csv_list[1], sep = "")
filename
wd <- setwd("c:/Users/Connor/Source/Repos/DataScience/Ni_Crime/Data/")
csv_list <- list.files(path = wd, pattern = "*.csv", full.names = FALSE,)
csv_list
filename <- paste(wd, csv_list[1], sep = "")
filename
setwd("c:/Users/Connor/Source/Repos/DataScience/Ni_Crime/Data/")
wd <- setwd("c:/Users/Connor/Source/Repos/DataScience/Ni_Crime/Data/")
csv_list <- list.files(path = wd, pattern = "*.csv", full.names = FALSE,)
csv_list
filename <- paste(wd, csv_list[1], sep = "")
filename
wd <- "c:/Users/Connor/Source/Repos/DataScience/Ni_Crime/Data/"
setwd(wd)
getwd()
wd <- "c:/Users/Connor/Source/Repos/DataScience/Ni_Crime/Data/"
setwd(wd)
getwd()
csv_list <- list.files(path = wd, pattern = "*.csv", full.names = FALSE,)
csv_list
filename <- paste(wd, csv_list[1], sep = "")
filename
combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (file in csv_list)         {         my_data <- read.csv(header = TRUE, paste(wd, csv_list[file], sep = ""), stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) } AllNICrimeData <- combine_results(csv_list)
wd <- "c:/Users/Connor/Source/Repos/DataScience/Ni_Crime/Data/"
setwd(wd)
getwd()
csv_list <- list.files(path = wd, pattern = "*.csv", full.names = FALSE,)
csv_list
filename <- paste(wd, csv_list[1], sep = "")
filename
combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (file in csv_list)         {         my_data <- read.csv(header = TRUE, csv_list[file], stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) } AllNICrimeData <- combine_results(csv_list)
combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (file in csv_list)         {         my_data <- read.csv(csv_list[file], header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) } AllNICrimeData <- combine_results(csv_list)
combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (csv in csv_list)         {         my_data <- read.csv(csv_list[csv], header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) }
AllNICrimeData <- combine_results(csv_list)
filename
read.csv(filename)
combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (csv in csv_list)         {         my_data <- read.csv(paste(wd, csv_list[csv], sep = ""), header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) } AllNICrimeData <- combine_results(csv_list)
wd <- "c:/Users/Connor/Source/Repos/DataScience/Ni_Crime/Data/" setwd(wd) getwd() csv_list <- list.files(path = wd, pattern = "*.csv", full.names = FALSE,) csv_list
filename <- paste(wd, csv_list[1], sep = "")
combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (csv in csv_list)         {         my_data <- read.csv(paste(wd, csv_list[csv], sep = ""), header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) } AllNICrimeData <- combine_results(csv_list)
combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (csv in csv_list)         {         my_data <- read.csv(file = list.files, header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) } AllNICrimeData <- combine_results(csv_list)
list.files
list.files()
combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (csv in csv_list)         {         my_data <- read.csv(paste(wd, csv, sep = ""), header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) } AllNICrimeData <- combine_results(csv_list)
str(AllNICrimeData)
setwd("c:/Users/Connor/Source/Repos/DataScience/Ni_Crime/")
write.csv(AllNICrimeData, "AllNICrimeData.csv")
write.csv(AllNICrimeData, "AllNICrimeData.csv")
nrow(AllNICrimeData)
attach(AllNICrimeData)
str(AllNICrimeData)
AllNICrimeData <- subset(AllNICrimeData, select = -c(Crime.ID, Reported.by, Falls.within, LSOA.code, LSOA.name, Last.outcome.category, Context))
str(AllNICrimeData)
table(Crime.type)
Crime.type <- factor(Crime.type, levels = c("Anti-social behaviour", "Bicycle theft", "Burglary", "Criminal damage and arson", "Drugs", "Other Crime", "Other Theft", "Possession of weapons", "Public order", "Robbery", "Shoplifting", "Theft from the person", "Vehicle crime", "Violence and sexual offences"))
str(AllNICrimeData)
Crime.type <- as.factor(Crime.type, levels = c("Anti-social behaviour", "Bicycle theft", "Burglary", "Criminal damage and arson", "Drugs", "Other Crime", "Other Theft", "Possession of weapons", "Public order", "Robbery", "Shoplifting", "Theft from the person", "Vehicle crime", "Violence and sexual offences"))
AllNICrimeData$Crime.type <- factor(Crime.type, levels = c("Anti-social behaviour", "Bicycle theft", "Burglary", "Criminal damage and arson", "Drugs", "Other Crime", "Other Theft", "Possession of weapons", "Public order", "Robbery", "Shoplifting", "Theft from the person", "Vehicle crime", "Violence and sexual offences"))
str(AllNICrimeData)
AllNICrimeData$Location <- gsub("on or near", "",location, ignore.case = TRUE)
AllNICrimeData$Location <- gsub("on or near", "",Location, ignore.case = TRUE)
head(AllNICrimeData$Location)
str(AllNICrimeData)
AllNICrimeData$Location <- gsub("on or near ", "",Location, ignore.case = TRUE)
head(AllNICrimeData$Location)
AllNICrimeData$Location[Location == ""] <- NA
head(AllNICrimeData$Location)
str(AllNICrimeData)
table(is.na(AllNICrimeData$Location))
AllNICrimeData[Location == ""] <- NA
table(is.na(AllNICrimeData$Location))
str(AllNICrimeData)
?gsub
head(AllNICrimeData$Location, 10)
    postcode <- read.csv("CleanNIPostcodeData.csv")
rm(Crime.type)
install.packages(dplyr)
install.packages("dplyr")
library(dplyr)
?match
find_a_postcode <- function(location) {     postcode <- read.csv("CleanNIPostcodeData.csv")     AllNICrimeData$Postcode <- NA     for (i in Location)         {         match <- AllNICrimeData[match(Location, postcode$Primary_Thorfare)]         AllNICrimeData$Postcode <- rbind(AllNICrimeData$Postcode, match)         }     return(AllNICrimeData$Postcode) }
find_a_postcode(AllNICrimeData$Location)
find_a_postcode <- function(location) {     postcode <- read.csv("CleanNIPostcodeData.csv")     AllNICrimeData$Postcode <- NA     for (i in Location)         {         match <- AllNICrimeData[match(AllNICrimeData$Location, postcode$Primary_Thorfare)]         AllNICrimeData$Postcode <- rbind(AllNICrimeData$Postcode, match)         }     return(AllNICrimeData$Postcode) } find_a_postcode(AllNICrimeData$Location)
find_a_postcode <- function(location) {     postcode <- read.csv("CleanNIPostcodeData.csv")     AllNICrimeData$Postcode <- NA     for (i in Location)         {         match_postcode <- match(AllNICrimeData$Location, postcode$Primary_Thorfare)         AllNICrimeData$Postcode <- rbind(AllNICrimeData$Postcode, match_postcode)         }     return(AllNICrimeData$Postcode) } find_a_postcode(AllNICrimeData$Location)
?match
find_a_postcode <- function(location) {     postcode <- read.csv("CleanNIPostcodeData.csv")     AllNICrimeData$Postcode <- NA     for (i in Location)         {         match_postcode <- match(AllNICrimeData$Location, postcode$Primary_Thorfare, nomatch = NA)         AllNICrimeData$Postcode <- rbind(AllNICrimeData$Postcode, match_postcode)         }     return(AllNICrimeData$Postcode) } find_a_postcode(AllNICrimeData$Location)
find_a_postcode <- function(location) {     postcode <- read.csv("CleanNIPostcodeData.csv")     AllNICrimeData$Postcode <- NA     for (i in Location)         {         match_postcode <- na.omit(match(AllNICrimeData$Location, postcode$Primary_Thorfare, nomatch = NA))         AllNICrimeData$Postcode <- rbind(AllNICrimeData$Postcode, match_postcode)         }     return(AllNICrimeData$Postcode) } find_a_postcode(AllNICrimeData$Location)
AllNICrimeData$Postcode <- NA
str(AllNICrimeData)
find_a_postcode <- function(location) {         for (i in Location)         {         match_postcode <- match(AllNICrimeData$Location[i], postcode$Primary_Thorfare, nomatch = NA)         AllNICrimeData$Postcode <- rbind(AllNICrimeData$Postcode, match_postcode)         }     return(AllNICrimeData$Postcode) }
find_a_postcode(AllNICrimeData$Location)
match_postcode <- match(AllNICrimeData$Location, postcode$Primary_Thorfare, nomatch = NA)
AllNICrimeData$Postcode <- match(AllNICrimeData$Location, postcode$Primary_Thorfare, nomatch = NA)
rm(match_postcode)
str(AllNICrimeData$Postcode)
table(AllNICrimeData$Postcode)
in.na(AllNICrimeData$Postcode)
is.na(AllNICrimeData$Postcode)
sum(is.na(AllNICrimeData$Postcode))
AllNICrimeData$Postcode <- inner_join(AllNICrimeData, postcode, by = c("Location", "Primary_Thorfare", copy = FALSE))
AllNICrimeData$Postcode <- inner_join(AllNICrimeData, postcode, by = c("Location", "Primary_Thorfare", copy = TRUE))
AllNICrimeData$Postcode <- NA
AllNICrimeData$Postcode <- match(AllNICrimeData$Location[1], postcode$Primary_Thorfare, nomatch = "NO")
head(AllNICrimeData$Postcode)
AllNICrimeData$Postcode <- "Yes"
AllNICrimeData$Postcode <- "Yes"
head(AllNICrimeData$Postcode)
AllNICrimeData$Postcode <- match(AllNICrimeData$Location[1], postcode$Primary_Thorfare, nomatch = "NO")
head(AllNICrimeData$Postcode)
AllNICrimeData$Postcode <- "Yes"
head(AllNICrimeData$Postcode)
AllNICrimeData$Postcode[1] <- match(AllNICrimeData$Location[1], postcode$Primary_Thorfare, nomatch = "NO")
head(AllNICrimeData$Postcode)
AllNICrimeData$Postcode <- "Yes"
head(AllNICrimeData$Postcode)
AllNICrimeData$Postcode <- merge(AllNICrimeData, postcode, by.x = "Location", by.y = "Primary_Thorfare", all.x = TRUE)
head(AllNICrimeData$Postcode)
AllNICrimeData$Postcode <- match(AllNICrimeData, postcode, by.x = "Location", by.y = "Primary_Thorfare", all.x = TRUE)
AllNICrimeData$Postcode <- match(AllNICrimeData, postcode, by.x = "Location", by.y = "Primary_Thorfare")
AllNICrimeData$Postcode <- "Yes"
head(AllNICrimeData$Postcode)
head(AllNICrimeData)
AllNICrimeData$Postcode <- merge(AllNICrimeData, postcode, by.x = "Location", by.y = "Primary_Thorfare")
head(AllNICrimeData)
CleanNIPostcodeData <- postcode
rm(postcode)
AllNICrimeData$Postcode <- "Yes"
head(AllNICrimeData)
AllNICrimeData$Postcode <- CleanNIPostcodeData$Postcode[match(AllNICrimeData$Location, CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)]
head(AllNICrimeData)
str(AllNICrimeData)
str(CleanNIPostcodeData)
rm(CleanNIPostcodeData)
CleanNIPostcodeData <- read.csv("CleanNIPostcodeData.csv", stringsAsFactors = FALSE)
str(CleanNIPostcodeData)
AllNICrimeData$Postcode <- "Yes"
head(AllNICrimeData)
str(AllNICrimeData)
AllNICrimeData$Postcode <- CleanNIPostcodeData$Postcode[match(AllNICrimeData$Location, CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)]
AllNICrimeData$Postcode <- CleanNIPostcodeData$Postcode[match(AllNICrimeData$Location, CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)]
head(AllNICrimeData$Postcode)
head(AllNICrimeData)
head(AllNICrimeData)
AllNICrimeData$Postcode <- merge(AllNICrimeData, CleanNIPostcodeData, by.x = AllNICrimeData$Location,  by.y = CleanNIPostcodeData$Primary_Thorfare, all.x = TRUE)]
AllNICrimeData$Postcode <- merge(AllNICrimeData, CleanNIPostcodeData, by.x = AllNICrimeData$Location,  by.y = CleanNIPostcodeData$Primary_Thorfare, all.x = TRUE)
?merge
AllNICrimeData2 <- merge(AllNICrimeData, CleanNIPostcodeData, by.x = AllNICrimeData$Location,  by.y = CleanNIPostcodeData$Primary_Thorfare, all.x = TRUE)
AllNICrimeData2 <- merge(AllNICrimeData, CleanNIPostcodeData, by.x = "Location",  by.y = "Primary_Thorfare", all.x = TRUE)
head(AllNICrimeData2)
rm(AllNICrimeData2)
AllNICrimeData$Postcode <- "Yes"
head(AllNICrimeData)
str(AllNICrimeData)
str(CleanNIPostcodeData)
AllNICrimeData$Postcode <- CleanNIPostcodeData$Postcode[match(AllNICrimeData$Location[1], CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)]
head(AllNICrimeData$Postcode)
Postcodes <- merge(AllNICrimeData, CleanNIPostcodeData[, c("Primary_Thorfare", "Postcode")],      by.x = "Location", by.y = "Primary_Thorfare",) head(Postcodes)
str(AllNICrimeData)
colnames
colnames(AllNICrimeData)
colnames(CleanNIPostcodeData)
head(Postcodes)
Postcodes <- left_join(AllNICrimeData, select(CleanNIPostcodeData, c("Primary_Thorfare", "Postcode")),      by = c("Location" = "Primary_Thorfare"))
head(Postcodes)
rm(Postcodes)
Postcodes <- left_join(AllNICrimeData, select(CleanNIPostcodeData, c("Primary_Thorfare", "Postcode")),      by = c("Location" = "Primary_Thorfare"))
Postcodes <- left_join(AllNICrimeData, select(CleanNIPostcodeData, c("Primary_Thorfare", "Postcode")),      by = c("Location" = "Primary_Thorfare"))
head(Postcodes)
AllNICrimeData$Postcode <- "Yes"
head(AllNICrimeData)
AllNICrimeData$Postcode <- CleanNIPostcodeData$Postcode[match(AllNICrimeData$Location[1], CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)]
head(AllNICrimeData)
AllNICrimeData$Location[1]
wd <- "c:/Users/Connor/Source/Repos/DataScience/Ni_Crime/Data/" setwd(wd) getwd() csv_list <- list.files(path = wd, pattern = "*.csv", full.names = FALSE,) csv_list #function to import each csv file and bind them together into one dataframe combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (csv in csv_list)         {         my_data <- read.csv(paste(wd, csv, sep = ""), header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) } AllNICrimeData <- combine_results(csv_list) str(AllNICrimeData)
nrow(AllNICrimeData) attach(AllNICrimeData) AllNICrimeData <- subset(AllNICrimeData, select = -c(Crime.ID, Reported.by, Falls.within, LSOA.code, LSOA.name, Last.outcome.category, Context)) str(AllNICrimeData)
AllNICrimeData$Crime.type <- factor(Crime.type, levels = c("Anti-social behaviour", "Bicycle theft", "Burglary", "Criminal damage and arson", "Drugs", "Other Crime", "Other Theft", "Possession of weapons", "Public order", "Robbery", "Shoplifting", "Theft from the person", "Vehicle crime", "Violence and sexual offences")) str(AllNICrimeData)
AllNICrimeData$Location <- gsub("on or near ", "",Location, ignore.case = TRUE) head(AllNICrimeData$Location, 10)
install.packages("dplyr")
library(dplyr)
AllNICrimeData$Postcode <- "Yes" head(AllNICrimeData)
CleanNIPostcodeData <- read.csv("CleanNIPostcodeData.csv", stringsAsFactors = FALSE) str(CleanNIPostcodeData)
setwd("c:/Users/Connor/Source/Repos/DataScience/Ni_Crime/")
CleanNIPostcodeData <- read.csv("CleanNIPostcodeData.csv", stringsAsFactors = FALSE) str(CleanNIPostcodeData)
head(AllNICrimeData)
head(CleanNIPostcodeData)
AllNICrimeData$Postcode <- CleanNIPostcodeData$Postcode[match(AllNICrimeData$Location[1], CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)]
head(AllNICrimeData)
AllNICrimeData$Postcode <- subset(AllNICrimeData, grepl(AllNICrimeData$Location[1], CleanNIPostcodeData$Primary_Thorfare))
Postcode <- subset(AllNICrimeData, grepl(AllNICrimeData$Location[1], CleanNIPostcodeData$Primary_Thorfare))
Postcode
?mapply
mapply(unique, AllNICrimeData$Location, CleanNIPostcodeData$Primary_Thorfare)
test <- mapply(id, AllNICrimeData$Location, CleanNIPostcodeData$Primary_Thorfare)
head(test)
test <- mapply(identical, AllNICrimeData$Location, CleanNIPostcodeData$Primary_Thorfare)
head(test)
?filter
install.packages("dplyr") library(dplyr)
apply_filter <- CleanNIPostcodeData[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1],  CleanNIPostcodeData$Postcode])
head(Postcodes)
rm(Postcodes)
rm(filename)
?mapply
wd <- "c:/Users/Connor/Source/Repos/DataScience/Ni_Crime/Data/" setwd(wd) getwd() csv_list <- list.files(path = wd, pattern = "*.csv", full.names = FALSE,) csv_list #function to import each csv file and bind them together into one dataframe combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (csv in csv_list)         {         my_data <- read.csv(paste(wd, csv, sep = ""), header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) } AllNICrimeData <- combine_results(csv_list) str(AllNICrimeData) nrow(AllNICrimeData) attach(AllNICrimeData) AllNICrimeData <- subset(AllNICrimeData, select = -c(Crime.ID, Reported.by, Falls.within, LSOA.code, LSOA.name, Last.outcome.category, Context)) str(AllNICrimeData) table(Crime.type) AllNICrimeData$Crime.type <- factor(Crime.type, levels = c("Anti-social behaviour", "Bicycle theft", "Burglary", "Criminal damage and arson", "Drugs", "Other Crime", "Other Theft", "Possession of weapons", "Public order", "Robbery", "Shoplifting", "Theft from the person", "Vehicle crime", "Violence and sexual offences")) str(AllNICrimeData) AllNICrimeData$Location <- gsub("on or near ", "",Location, ignore.case = TRUE) head(AllNICrimeData$Location, 10)
setwd("c:/Users/Connor/Source/Repos/DataScience/Ni_Crime/")
CleanNIPostcodeData <- read.csv("CleanNIPostcodeData.csv", stringsAsFactors = FALSE)
install.packages("dplyr")
library(dplyr)
AllNICrimeData$Location[1]
result <- subset(CleanNIPostcodeData, grepl(AllNICrimeData$Location[1], CleanNIPostcodeData$Primary_Thorfare))
result
result <- subset(CleanNIPostcodeData, grepl(AllNICrimeData$Location[2], CleanNIPostcodeData$Primary_Thorfare))
result
result <- subset(CleanNIPostcodeData, grepl(AllNICrimeData$Location[2], CleanNIPostcodeData$Primary_Thorfare))
head(result)
AllNICrimeData$Location[2]
AllNICrimeData$Location[1]
result <- subset(CleanNIPostcodeData[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]])
? subset
result <- subset(CleanNIPostcodeData[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]],      select = c("CleanNIPostcodeData$Postcode"))
? subset
result <- subset(CleanNIPostcodeData, CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1],      select = c("CleanNIPostcodeData$Postcode")) head(result)
wd <- "c:/Users/Connor/Source/Repos/DataScience/Ni_Crime/Data/" setwd(wd) getwd() csv_list <- list.files(path = wd, pattern = "*.csv", full.names = FALSE,) csv_list #function to import each csv file and bind them together into one dataframe combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (csv in csv_list)         {         my_data <- read.csv(paste(wd, csv, sep = ""), header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) } AllNICrimeData <- combine_results(csv_list) str(AllNICrimeData) nrow(AllNICrimeData) attach(AllNICrimeData) AllNICrimeData <- subset(AllNICrimeData, select = -c(Crime.ID, Reported.by, Falls.within, LSOA.code, LSOA.name, Last.outcome.category, Context)) str(AllNICrimeData) table(Crime.type) AllNICrimeData$Crime.type <- factor(Crime.type, levels = c("Anti-social behaviour", "Bicycle theft", "Burglary", "Criminal damage and arson", "Drugs", "Other Crime", "Other Theft", "Possession of weapons", "Public order", "Robbery", "Shoplifting", "Theft from the person", "Vehicle crime", "Violence and sexual offences")) str(AllNICrimeData) AllNICrimeData$Location <- gsub("on or near ", "",Location, ignore.case = TRUE) head(AllNICrimeData$Location, 10) setwd("c:/Users/Connor/Source/Repos/DataScience/Ni_Crime/") CleanNIPostcodeData <- read.csv("CleanNIPostcodeData.csv", stringsAsFactors = FALSE)
head(AllNICrimeData)
AllNICrimeData$Postcode <- CleanNIPostcodeData$Postcode[match(CleanNIPostcodeData$Primary_Thorfare,  AllNICrimeData$Location)]
AllNICrimeData$Postcode <- CleanNIPostcodeData$Postcode[match(AllNICrimeData$Location,     CleanNIPostcodeData$Primary_Thorfare)]
head(AllNICrimeData)
sum(AllNICrimeData$Postcode)
sum(is.na(AllNICrimeData$Postcode))
match(AllNICrimeData$Location[1], CleanNIPostcodeData$Primary_Thorfare)
for (i in location) {     x = CleanNIPostcodeData$Primary_Thorfare     result <- subset(CleanNIPostcodeData$Postcode[x = i])     return(result) }
for (i in AllNICrimeData$Location[1]) {     x = CleanNIPostcodeData$Primary_Thorfare     result <- subset(CleanNIPostcodeData$Postcode[x = i])     return(result) }
for (i in AllNICrimeData$Location[1]) {     x = CleanNIPostcodeData$Primary_Thorfare     result <- subset(CleanNIPostcodeData, CleanNIPostcodeData$Postcode[x = i])     return(result) }
for (i in AllNICrimeData$Location[1]) {     x = CleanNIPostcodeData$Primary_Thorfare     result <- which(CleanNIPostcodeData, CleanNIPostcodeData$Postcode[x = i])     return(result) }
for (i in AllNICrimeData$Location[1]) {     x = CleanNIPostcodeData$Primary_Thorfare     result <- CleanNIPostcodeData[CleanNIPostcodeData$Postcode[x = i]]     return(result) }
i = AllNICrimeData$Location[1]
x = CleanNIPostcodeData$Primary_Thorfare
y = CleanNIPostcodeData$Primary_Therfare[x = i]
y = CleanNIPostcodeData$Primary_Therfare[x %in% i]
y = CleanNIPostcodeData$Primary_Therfare[i %in% x]
match(i,x)
?grepl
y = grepl(i, x, ignore.case = TRUE)
sun(is.na(y))
sum(is.na(y))
match(i,x, ignore.case = TRUE)
i
i = toupper(AllNICrimeData$Location[1])
y = CleanNIPostcodeData$Primary_Therfare[i %in% x]
match(i, x)
i
y = CleanNIPostcodeData$Primary_Therfare["SALISBURY PLACE" %in% x]
i = toupper(AllNICrimeData$Location[33887])
x = CleanNIPostcodeData$Primary_Thorfare
y = CleanNIPostcodeData$Primary_Therfare[i %in% x]
match(i, x)
j = toupper(AllNICrimeData$Location[128126])
j = toupper(AllNICrimeData$Location[128125])
match(j, x)
j = AllNICrimeData$Location[128125]
match(j, x)
h = toupper(AllNICrimeData$Location[1])
match(h, x)
head(AllNICrimeData)
AllNICrimeData$Postcode <- "Yes"
head(AllNICrimeData)
AllNICrimeData$Postcode <- CleanNIPostcodeData$Postcode[match(toupper(AllNICrimeData$Location[1]), CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)]
head(AllNICrimeData)
AllNICrimeData$Postcode <- "Yes"
head(AllNICrimeData)
AllNICrimeData$Postcode[1] <- CleanNIPostcodeData$Postcode[match(toupper(AllNICrimeData$Location[1]), CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)]
head(AllNICrimeData)
find_a_postcode <- function(Location) {         for (i in Location)         {         match_locator <- AllNICrimeData$Postcode  <- CleanNIPostcodeData$Postcode[match(toupper(AllNICrimeData$Location[1]),         CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)]         AllNICrimeData$Postcode <- rbind(AllNICrimeData$Postcode, match_locator)         }     return(AllNICrimeData$Postcode) } find_a_postcode(AllNICrimeData$Location)
str(CleanNIPostcodeData)
str(AllNICrimeData)
rm(i)
rm(j)
rm(h)
rm(y)
rm(x)
find_a_postcode <- function(Location) {         for (i in Location)         {         match_locator <- AllNICrimeData$Postcode  <- CleanNIPostcodeData$Postcode[match(toupper(AllNICrimeData$Location[i]),         CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)]         AllNICrimeData$Postcode <- rbind(AllNICrimeData$Postcode, match_locator)         }     return(AllNICrimeData$Postcode) }
find_a_postcode <- function(Location) {         for (i in Location)         {         match_locator <- AllNICrimeData$Postcode  <- CleanNIPostcodeData$Postcode[match(toupper(AllNICrimeData$Location[i]),         CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)]         PostcodeData <- rbind(AllNICrimeData$Postcode, match_locator)         }     return(PostcodeData) }
str(AllNICrimeData)
AllNICrimeData$Postcode <- find_a_postcode(AllNICrimeData$Location)
find_a_postcode <- function(Location) {     PostcodeData <- NULL     for (i in Location)         {         match_locator <- CleanNIPostcodeData$Postcode[match(toupper(AllNICrimeData$Location[i]),         CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)]         PostcodeData <- rbind(PostcodeData, match_locator)         }     return(PostcodeData) }
AllNICrimeData$Postcode <- find_a_postcode(AllNICrimeData$Location)
sapply(AllNICrimeData$Postcode, CleanNIPostcodeData$Postcode[match(toupper(AllNICrimeData$Location), CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)])
sapply(AllNICrimeData$Postcode, find_a_postcode)
match_locator <- AllNICrimeData$Postcode <- CleanNIPostcodeData$Postcode[match(toupper(AllNICrimeData$Location[1]),         CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)]
match_locator
match_locator <- AllNICrimeData$Postcode <- CleanNIPostcodeData$Postcode[match(toupper(AllNICrimeData$Location[2]),         CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)]
match_locator
match_locator <- AllNICrimeData$Postcode <- CleanNIPostcodeData$Postcode[match(toupper(AllNICrimeData$Location[3]),         CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)]
match_locator
match_locator <- AllNICrimeData$Postcode <- CleanNIPostcodeData$Postcode[match(toupper(AllNICrimeData$Location),         CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)]
match_locator
find_a_postcode <- function(street) {     PostcodeData <- AllNICrimeData$Postcode <- CleanNIPostcodeData$Postcode[match(toupper(street),         CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)]     return(PostcodeData) }
str(AllNICrimeData)
AllNICrimeData$Postcode <- NA
str(AllNICrimeData)
AllNICrimeData$Postcode <- find_a_postcode(AllNICrimeData$Location)
str(AllNICrimeData)
sum(is.na(AllNICrimeData$Postcode))
AllNICrimeData$Location[3]
x = lapply(CleanNIPostcodeData, match(toupper(AllNICrimeData$Location[3]), CleanNIPostcodeData$Primary_Thorfare, nomatch = NA))
y <- function() {     match(toupper(AllNICrimeData$Location[3]), CleanNIPostcodeData$Primary_Thorfare, nomatch = NA) }
x = lapply(CleanNIPostcodeData, y)
y <- function() {     z <- match(toupper(AllNICrimeData$Location[3]), CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)     return(z) }
x = lapply(CleanNIPostcodeData, y)
match_locator <- CleanNIPostcodeData$Postcode[match(toupper(AllNICrimeData$Location[3]),         CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)]
match_locator
match_locator <- CleanNIPostcodeData$Postcode[match(toupper(AllNICrimeData$Location[4]),         CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)]
match_locator2 <- CleanNIPostcodeData$Postcode[toupper(AllNICrimeData$Location[4]) == CleanNIPostcodeData$Primary_Thorfare] match_locator2
head(match_locator2)
str(match_locator2)
table(match_locator2)
sum(is.na(match_locator2))
AllNICrimeData$Location[4]
rm(match_locator2)
match_locator2 <- CleanNIPostcodeData$Postcode[toupper(AllNICrimeData$Location[4]) %in% CleanNIPostcodeData$Primary_Thorfare]
head(match_locator2)
str(match_locator2)
table(match_locator2)
sum(is.na(match_locator2))
match_locator2 <- CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location[4])]
head(match_locator2)
str(match_locator2)
table(match_locator2)
?Filter
match_locator <- Filter(CleanNIPostcodeData$Postcode, CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location[4]))
match_locator <- filter(CleanNIPostcodeData$Postcode, CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location[4]))
match_locator <- filter(CleanNIPostcodeData$Postcode, CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location[5]))
rm(match_locator)
match_locator2 <- CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location[4])]
table(match_locator2)
unique(match_locator2)
is.unique(match_locator2)
toupper(AllNICrimeData$Location[4])
CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location[4])
sum(is.na(CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location[4])))
table(sum(is.na(CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location[4]))))
table(sum(CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location[4])))
table(CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location[4]))
table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location[4])])
CleanNIPostcodeData <- read.csv("CleanNIPostcodeData.csv", stringsAsFactors = FALSE)
table(CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location[4]))
table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location[4])])
x <- table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location[4])])
x
max(x)
max(table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location[4])]))
max(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location[4])])
x = CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location[4])]
table(x)
x[which.max(tabulate(match(x, x)))]
table(CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location[4]))
x = CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location)]
x[which.max(tabulate(match(x, x)))]
ux = CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location[4])]
table(x)
table(ux)
ux[which.max(tabulate(match(x, ux)))]
x = CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location)]
str(x)
sum(is.na(AllNICrimeData$Postcode))
table(CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location[4]))
wd <- "c:/Users/Connor/Source/Repos/DataScience/Ni_Crime/Data/" setwd(wd) getwd() csv_list <- list.files(path = wd, pattern = "*.csv", full.names = FALSE,) csv_list #function to import each csv file and bind them together into one dataframe combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (csv in csv_list)         {         my_data <- read.csv(paste(wd, csv, sep = ""), header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) } AllNICrimeData <- combine_results(csv_list) str(AllNICrimeData) nrow(AllNICrimeData) attach(AllNICrimeData) AllNICrimeData <- subset(AllNICrimeData, select = -c(Crime.ID, Reported.by, Falls.within, LSOA.code, LSOA.name, Last.outcome.category, Context)) str(AllNICrimeData) table(Crime.type) AllNICrimeData$Crime.type <- factor(Crime.type, levels = c("Anti-social behaviour", "Bicycle theft", "Burglary", "Criminal damage and arson", "Drugs", "Other Crime", "Other Theft", "Possession of weapons", "Public order", "Robbery", "Shoplifting", "Theft from the person", "Vehicle crime", "Violence and sexual offences")) str(AllNICrimeData) AllNICrimeData$Location <- gsub("on or near ", "",Location, ignore.case = TRUE) head(AllNICrimeData$Location, 10) setwd("c:/Users/Connor/Source/Repos/DataScience/Ni_Crime/") CleanNIPostcodeData <- read.csv("CleanNIPostcodeData.csv", stringsAsFactors = FALSE) #The LAST THING THAT WORKED #---------------------------------------------------------------------------------# install.packages("dplyr") library(dplyr)
table(CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location[4]))
x = CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location[4])]
table(x)
sum(is.na(x))
write.csv(AllNICrimeData, "AllNICrimeData.csv")
x = CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location[1])]
table(x)
find_a_postcode <- function(street) {     PostcodeData <-  CleanNIPostcodeData$Postcode[match(toupper(street),         CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)]     return(PostcodeData) } AllNICrimeData$Postcode <- find_a_postcode(AllNICrimeData$Location) str(AllNICrimeData)
sum(is.na(AllNICrimeData$Postcode))
write.csv(AllNICrimeData, "AllNICrimeData.csv")
write.csv(AllNICrimeData, "AllNICrimeData.csv")
sum(is.na(AllNICrimeData$Postcode))
AllNICrimeData$Location <- toupper(AllNICrimeData$Location)
x = CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]]
rm(x)
AllNICrimeData$Location[4]
table(CleanNIPostcodeData$Primary_Thorfare == toupper(AllNICrimeData$Location[4]))
table(AllNICrimeData$Location[4] == CleanNIPostcodeData$Primary_Thorfare)
table(AllNICrimeData[AllNICrimeData$Location[4] == CleanNIPostcodeData$Primary_Thorfare])
table(AllNICrimeData$Postcode[AllNICrimeData$Location[4] == CleanNIPostcodeData$Primary_Thorfare])
y = AllNICrimeData$Postcode[AllNICrimeData$Location[4] == CleanNIPostcodeData$Primary_Thorfare])
y = AllNICrimeData$Postcode[AllNICrimeData$Location[4] == CleanNIPostcodeData$Primary_Thorfare]
x = CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[4]]
write.csv(AllNICrimeData, "AllNICrimeData.csv")
wd <- "c:/Users/Connor/Source/Repos/DataScience/Ni_Crime/Data/" setwd(wd) getwd() csv_list <- list.files(path = wd, pattern = "*.csv", full.names = FALSE,) csv_list #function to import each csv file and bind them together into one dataframe combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (csv in csv_list)         {         my_data <- read.csv(paste(wd, csv, sep = ""), header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) } AllNICrimeData <- combine_results(csv_list) str(AllNICrimeData) nrow(AllNICrimeData) attach(AllNICrimeData) AllNICrimeData <- subset(AllNICrimeData, select = -c(Crime.ID, Reported.by, Falls.within, LSOA.code, LSOA.name, Last.outcome.category, Context)) str(AllNICrimeData) table(Crime.type) AllNICrimeData$Crime.type <- factor(Crime.type, levels = c("Anti-social behaviour", "Bicycle theft", "Burglary", "Criminal damage and arson", "Drugs", "Other Crime", "Other Theft", "Possession of weapons", "Public order", "Robbery", "Shoplifting", "Theft from the person", "Vehicle crime", "Violence and sexual offences")) str(AllNICrimeData) AllNICrimeData$Location <- gsub("on or near ", "", Location, ignore.case = TRUE) AllNICrimeData$Location <- toupper(AllNICrimeData$Location) head(AllNICrimeData$Location, 10) setwd("c:/Users/Connor/Source/Repos/DataScience/Ni_Crime/") CleanNIPostcodeData <- read.csv("CleanNIPostcodeData.csv", stringsAsFactors = FALSE) #The LAST THING THAT WORKED #---------------------------------------------------------------------------------# install.packages("dplyr") library(dplyr)
x = CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location]
x = CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[4]]
x = CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]]
x = CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[2]]
x = CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]]
table(x)
length(x)
unique(length(x))
    PostcodeData <-  CleanNIPostcodeData$Postcode[match(street,         CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)]
PostcodeData <- CleanNIPostcodeData$Postcode[match(AllNICrimeData$Location,         CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)]
sum(is.na(PostcodeData))
unique(x))
unique(x)
unique(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]])
max(!is.na(unique(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]])))
x <- max(!is.na(unique(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]]))) }
   x <- max(!is.na(unique(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]])))
x <- (uniquemax(!is.na(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]])))
max(!is.na(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]])))
 x <- (unique(max(!is.na(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]]))))
x <- (unique[max(!is.na(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]]))])
unique(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]])
unique(table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]]))
unique(table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[4]]))
unique(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[4]])
y <- unique(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[4]])
y <- CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[4]]
    x <- unique[max(!is.na(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[4]]))]
    max(y)
    max(!is.na(y))
    length(!is.na(y))
    length(y)
y <- y[y != NA]
y
y <- CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[4]]
table(y)
z <- table(y)
rm(z)
rm(x)
y <- CleanNIPostcodeData$Postcode[unique(CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location)]
y <- CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]]
y <- unique(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]] > 1)
y <- table(unique(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]] > 1)))
y <- table(unique(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]] > 1))
table(unique(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]] > 1))
y <- table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]] > 1)
table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]] > 1)
table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[4]] > 1)
table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[4]])
y <- table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[4]])
colnames(y)
colname(y)
names(which.max(table(y)))
names(which.max(table((CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[4]]))))
table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[4]])
        names(which.max(table((CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]]))))
unique(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[4]])
find_a_postcode <- function(location) { AllNICrimeData$Postcode = NULL x <- NULL     for (i in Location)     {         if (unique(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[i]]) > 1)             {                 x <- names(which.max(table((CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]]))))             }         x <- unique(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[i]]))         AllNICrimeData$Postcode <- rbind(AllNICrimeData$Postcode, x)     } return(AllNICrimeData$Postcode) }
find_a_postcode <- function(location) { AllNICrimeData$Postcode = NULL x <- NULL     for (i in Location)     {         if (unique(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[i]]) > 1)             {                 x <- names(which.max(table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]])))             }         x <- unique(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[i]])         AllNICrimeData$Postcode <- rbind(AllNICrimeData$Postcode, x)     } return(AllNICrimeData$Postcode) }
z <- find_a_postcode(llNICrimeData$Location[4])
unique(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[i]]) 
unique(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[4]])
unique(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[4]]) > 1
CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[4]]) > 1
CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[4]] > 1
table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[4]]) > 1
length(table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[4]])) > 1
length(table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[4]])) > 3
find_a_postcode <- function(location) { Postcode = NULL x <- NULL     for (i in Location)     {         if (length(table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[4]])) > 1)             {                 x <- names(which.max(table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]])))             }         x <- unique(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[i]])         Postcode <- rbind(Postcode, x)     } return(Postcode) }
z <- find_a_postcode(llNICrimeData$Location[4])
x <- names(which.max(table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[4]])))
x <- names(which.max(table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location])))
x <- names(which.max(table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[4]])))
x <- names(which.max(table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[2]])))
x <- names(which.max(table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[3]])))
x <- names(which.max(table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location])))
x <- names(which.max(table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location])))
x <- names(which.max(table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]])))
x <- names(which.max(table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location])))
which.max(table((CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare == AllNICrimeData$Location[1]])))
    PostcodeData <- names(which.max(table(CleanNIPostcodeData$Postcode[match(AllNICrimeData$Location,         CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)])))
    PostcodeData <- CleanNIPostcodeData$Postcode[match(AllNICrimeData$Location,         CleanNIPostcodeData$Primary_Thorfare, nomatch = NA)]
rm(x)
rm(y)
rm(find_a_postcode)
rm(PostcodeData)
find_a_postcode <- function()     names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location == CleanNIPostcodeData$Primary_Thorfare])))
AllNICrimeData$Postcode <- mapply(find_a_postcode, AllNICrimeData)
AllNICrimeData$Postcode <- lapply(find_a_postcode, AllNICrimeData)
AllNICrimeData$Postcode <- lapply(AllNICrimeData, find_a_postcode)
find_a_postcode <- function(AllNICrimeData)     names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location == CleanNIPostcodeData$Primary_Thorfare])))
AllNICrimeData$Postcode <- lapply(AllNICrimeData, find_a_postcode)
AllNICrimeData$Postcode <- lapply(AllNICrimeData$Postcode, find_a_postcode)
AllNICrimeData$Postcode
find_a_postcode <- function()     names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location == CleanNIPostcodeData$Primary_Thorfare])))
AllNICrimeData$Postcode <- lapply(AllNICrimeData$Postcode, find_a_postcode)
AllNICrimeData$Postcode <- sapply(AllNICrimeData$Postcode, find_a_postcode)
AllNICrimeData$Postcode <- mapply(find_a_postcode, AllNICrimeData$Postcode)
names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[1] == CleanNIPostcodeData$Primary_Thorfare])))
names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[2] == CleanNIPostcodeData$Primary_Thorfare])))
names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[3] == CleanNIPostcodeData$Primary_Thorfare])))
 names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[6] == CleanNIPostcodeData$Primary_Thorfare])))
find_a_postcode <- function(location) {     x <- unique(i)     for (x in location)     {         names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[x] == CleanNIPostcodeData$Primary_Thorfare])))     } }
find_a_postcode <- function(location) {     location <- unique(location)     for (x in location)     {         names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[x] == CleanNIPostcodeData$Primary_Thorfare])))     } }
AllNICrimeData$Postcode <- find_a_postcode(AllNICrimeData$Location)
y <- unique(AllNICrimeData$Location)
find_a_postcode <- function(location) {     location <- unique(location)     for (x in location)     {         names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[x] == CleanNIPostcodeData$Primary_Thorfare])))     } } AllNICrimeData$Postcode <- find_a_postcode(AllNICrimeData$Location)
str(AllNICrimeData$Postcode)
head(AllNICrimeData$Postcode)
location <- unique(location)
    location <- unique(AllNICrimeData$Location)
find_a_postcode <- function(location) {     postcode <- NULL     result <-NULL     location <- unique(AllNICrimeData$Location)     for (x in location)     {         postcode <- names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[x] == CleanNIPostcodeData$Primary_Thorfare])))     }     result <- rbind(result, postcode) } AllNICrimeData$Postcode <- find_a_postcode(AllNICrimeData$Location)
head(AllNICrimeData> head(AllNICrimeData))
head(AllNICrimeData)
names <- function() {     names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[x] == CleanNIPostcodeData$Primary_Thorfare]))) } AllNICrimeData$Postcode <- lapply(AllNICrimeData, names)
names <- function() {     names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location == CleanNIPostcodeData$Primary_Thorfare]))) }
AllNICrimeData$Postcode <- lapply(AllNICrimeData, names)
names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location == CleanNIPostcodeData$Primary_Thorfare])))
names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[1] == CleanNIPostcodeData$Primary_Thorfare])))
rm(names)
names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[1] == CleanNIPostcodeData$Primary_Thorfare])))
    names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[2] == CleanNIPostcodeData$Primary_Thorfare])))
    names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[3] == CleanNIPostcodeData$Primary_Thorfare])))
names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[3] == CleanNIPostcodeData$Primary_Thorfare])))
head(AllNICrimeData, 10)
head(CleanNIPostcodeData, 10)
head(CleanNIPostcodeData[, 6:16],)
head(CleanNIPostcodeData[, 6:14],)
AllNICrimeData$Postcode <- find_a_postcode()
head(CleanNIPostcodeData[CleanNIPostcodeData == "BT387QR"])
head(CleanNIPostcodeData[CleanNIPostcodeData == BT387QR])
CleanNIPostcodeData[753]
CleanNIPostcodeData$Postcode[753]
CleanNIPostcodeData[CleanNIPostcodeData$Postcode[753]]
CleanNIPostcodeData[CleanNIPostcodeData$Postcode[,753]]
CleanNIPostcodeData$Postcode[753]
x <- CleanNIPostcodeData[CleanNIPostcodeData$Postcode[753]]
x <- CleanNIPostcodeData[CleanNIPostcodeData$Postcode == BT387QR]
x <- CleanNIPostcodeData[CleanNIPostcodeData$Postcode == "BT387QR"]
CleanNIPostcodeData$Postcode[AllNICrimeData$Location[3] == CleanNIPostcodeData$Primary_Thorfare]
CleanNIPostcodeData$Postcode[AllNICrimeData$Location[3] == CleanNIPostcodeData$Primary_Thorfare])
CleanNIPostcodeData$Postcode[AllNICrimeData$Location[3] == CleanNIPostcodeData$Primary_Thorfare]
CleanNIPostcodeData$Postcode[AllNICrimeData$Location[10] == CleanNIPostcodeData$Primary_Thorfare]
table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[10] == CleanNIPostcodeData$Primary_Thorfare])
table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[1] == CleanNIPostcodeData$Primary_Thorfare])
table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[3] == CleanNIPostcodeData$Primary_Thorfare])
AllNICrimeData$Postcode <- mapply(function(x) names(which.max(table(CleanNIPostcodeData$Postcode[x == CleanNIPostcodeData$Primary_Thorfare]))), AllNICrimeData$Location)
head(AllNICrimeData$Postcode)
str(AllNICrimeData$Postcode)
?mapply
mapply(rep, 1:4, 4:1)
mapply(rep, times = 1:4, MoreArgs = list(x = 42))
names(which.max(table(CleanNIPostcodeData$Postcode[x == CleanNIPostcodeData$Primary_Thorfare]))),     AllNICrimeData$Location
CleanNIPostcodeData$Postcode[x == CleanNIPostcodeData$Primary_Thorfare]
which.max(table(CleanNIPostcodeData$Postcode[x == CleanNIPostcodeData$Primary_Thorfare]))), AllNICrimeData$Location)
names(which.max(table(CleanNIPostcodeData$Postcode[x == CleanNIPostcodeData$Primary_Thorfare]))), AllNICrimeData$Location)
names(which.max(table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare]))),     AllNICrimeData$Location
names(which.max(table(CleanNIPostcodeData$Postcode[CleanNIPostcodeData$Primary_Thorfare])))
find_a_postcode <- function() { names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location == CleanNIPostcodeData$Primary_Thorfare]))) }
AllNICrimeData$TEST <- mapply(find_a_postcode, AllNICrimeData$Location)
AllNICrimeData$TEST <- mapply(find_a_postcode)
names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[1] == CleanNIPostcodeData$Primary_Thorfare])))
names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[21458] == CleanNIPostcodeData$Primary_Thorfare])))
names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[214581] == CleanNIPostcodeData$Primary_Thorfare])))
names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[214] == CleanNIPostcodeData$Primary_Thorfare])))
names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[214758] == CleanNIPostcodeData$Primary_Thorfare])))
for (i in AllNICrimeData$Location[1:20]) names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare])))
for (i in AllNICrimeData$Location[1:20])     {         names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare])))     }
    for (i in AllNICrimeData$Location[1:20]) {         a = names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare])))         return(a)     }
find_a_postcode <- function() {     for (i in AllNICrimeData$Location[1:20])     {         names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare])))     }
}
AllNICrimeData$TEST <- mapply(find_a_postcode)
names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare])))
 names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location == CleanNIPostcodeData$Primary_Thorfare])))
names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[1] == CleanNIPostcodeData$Primary_Thorfare])))
head(AllNICrimeData)
seq(length(AllNICrimeData$Location))
find_a_postcode <- function() {     for (i in seq(length(AllNICrimeData$Location)))     {         names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare])))     }
}
AllNICrimeData$TEST <- mapply(find_a_postcode)
find_a_postcode <- function() {     for (i in seq(length(AllNICrimeData$Location)))     {         names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare])))     }
}
for (i in seq(length(AllNICrimeData$Location)))     {         names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare])))     }
for (i in seq(1:10)#seq(length(AllNICrimeData$Location)))     {         names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare])))     }
for (i in seq(1:10))#seq(length(AllNICrimeData$Location)))     {         names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare])))     }
find_a_postcode <- function() {     for (i in seq(1:10))#seq(length(AllNICrimeData$Location)))     {         names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare])))     }
}
AllNICrimeData$TEST <- mapply(find_a_postcode)
for (i in seq(1:10))#seq(length(AllNICrimeData$Location)))     {       a <-  names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare])))     }
for (i in seq(1:10))#seq(length(AllNICrimeData$Location)))     {         a <-  names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare])))         b <- rbind(b, a)
    }
b <-NULL     for (i in seq(1:10))#seq(length(AllNICrimeData$Location)))     {         a <-  names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare])))         b <- rbind(b, a)
    }
        a <-  names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[3] == CleanNIPostcodeData$Primary_Thorfare])))
        a <-  names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[2] == CleanNIPostcodeData$Primary_Thorfare])))
b <- rbind(b, a)
b <-NULL
a <-  names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[2] == CleanNIPostcodeData$Primary_Thorfare])))         b <- rbind(b, a)
    b <-NULL     for (i in seq(1:10))#seq(length(AllNICrimeData$Location)))     {         a <-  names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare])))         b <- rbind(b, a)
    }
    b <-NULL     for (i in seq(1:10))#seq(length(AllNICrimeData$Location)))     {         a <-  names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare], useNA = c("ifany"))))         b <- rbind(b, a)
    }
?table
    b <-NULL     for (i in seq(1:10))#seq(length(AllNICrimeData$Location)))     {         a <-  names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare], useNA = c("always"))))         b <- rbind(b, a)
    }
    b <-NULL     for (i in seq(1:10))#seq(length(AllNICrimeData$Location)))     {         a <-  names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare], useNA = c("no"))))         b <- rbind(b, a)
    }
head(b)
str(b)
rm(y)
rm(location)
    b <-NULL     for (i in seq(1:2))#seq(length(AllNICrimeData$Location)))     {         a <-  names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare], useNA = c("no"))))         b <- rbind(b, a)
    }
    b <-NULL     for (i in seq(1:2))#seq(length(AllNICrimeData$Location)))     {         a <-  names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare], useNA = c("no"))))         b <- rbind.fill(b, a)
    }
    b <-NULL     for (i in seq(1:2))#seq(length(AllNICrimeData$Location)))     {         a <-  names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare], useNA = c("no"))))         if (a = NULL) {             a <- "NA"         }
        b <- rbind.fill(b, a)
    }
    b <-NULL     for (i in seq(1:2))#seq(length(AllNICrimeData$Location)))     {         a <-  names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare], useNA = c("no"))))         if (a = NULL) {             a <- "NA"         }
        b <- rbind(b, a)
    }
b <-NULL     for (i in seq(1:2))#seq(length(AllNICrimeData$Location)))     {         a <-  names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare], useNA = c("no"))))         if (a = NULL)         {             a <- "NA"         }
        b <- rbind(b, a)
    }
    b <-NULL     for (i in seq(1:2))#seq(length(AllNICrimeData$Location)))     {         a <-  names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare], useNA = c("no"))))         if (a == NULL)         {             a <- "NA"         }
        b <- rbind(b, a)
    }
    b <-NULL     for (i in seq(1:2))#seq(length(AllNICrimeData$Location)))     {         a <-  names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare], useNA = c("no"))))         if (a == NULL)         {             a <- "NA"         }
        else
        b <- rbind(b, a)
    }
head(AllNICrimeData, 10)
AllNICrimeData[AllNICrimeData$Location == ""] <- "NA"
    b <-NULL     for (i in seq(1:2))#seq(length(AllNICrimeData$Location)))     {         a <-  names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare], useNA = c("no"))))         if (a == NULL)         {             a <- "NA"         }
        else
        b <- rbind(b, a)
    }
    b <-NULL     for (i in seq(1:2))#seq(length(AllNICrimeData$Location)))     {         a <-  names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare], useNA = c("no"))))         if (a == "")         {             a <- "NA"         }
        else
        b <- rbind(b, a)
    }
find_a_postcode <- function() {     for (i in seq(length(AllNICrimeData$Location)))     {         names(which.max(table(CleanNIPostcodeData$Postcode[AllNICrimeData$Location[i] == CleanNIPostcodeData$Primary_Thorfare], useNA = c("no"))))
    }
}
AllNICrimeData$TEST <- find_a_postcode()
str(AllNICrimeData) nrow(AllNICrimeData) head(AllNICrimeData, 10)
head(AllNICrimeData[1:5], 10)
str(AllNICrimeData) nrow(AllNICrimeData) head(AllNICrimeData[1:5], 10)
str(AllNICrimeData$Crime.type)
head(AllNICrimeData$Crime.type)
head(AllNICrimeData, 3)
head(AllNICrimeData, 10)
wd <- "c:/Users/Connor/Source/Repos/DataScience/Ni_Crime/Data/"
setwd(wd)
getwd()
csv_list <- list.files(path = wd, pattern = "*.csv", full.names = FALSE,)
csv_list
#function to import each csv file and bind them together into one dataframe
#function to import each csv file and bind them together into one dataframe combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (csv in csv_list)         {         my_data <- read.csv(paste(wd, csv, sep = ""), header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) }
AllNICrimeData <- combine_results(csv_list)
str(AllNICrimeData)
nrow(AllNICrimeData)
head(AllNICrimeData[1:5], 10)
attach(AllNICrimeData)
AllNICrimeData <- subset(AllNICrimeData, select = -c(Crime.ID, Reported.by, Falls.within, LSOA.code,  LSOA.name, Last.outcome.category, Context))
str(AllNICrimeData)
table(Crime.type)
AllNICrimeData$Crime.type <- factor(Crime.type, levels = c("Anti-social behaviour", "Bicycle theft", "Burglary",      "Criminal damage and arson", "Drugs", "Other Crime", "Other Theft", "Possession of weapons",       "Public order", "Robbery", "Shoplifting", "Theft from the person", "Vehicle crime",        "Violence and sexual offences"))
head(AllNICrimeData$Crime.type)
AllNICrimeData$Location <- gsub("on or near ", "", Location, ignore.case = TRUE) AllNICrimeData$Location <- toupper(AllNICrimeData$Location) head(AllNICrimeData$Location, 10)
setwd("c:/Users/Connor/Source/Repos/DataScience/Ni_Crime/") CleanNIPostcodeData <- read.csv("CleanNIPostcodeData.csv", stringsAsFactors = FALSE)
install.packages("dplyr")
library(dplyr)
AllNICrimeData$Postcode <- mapply(function(x) names(which.max(table(CleanNIPostcodeData$Postcode[x == CleanNIPostcodeData$Primary_Thorfare]))), AllNICrimeData$Location) head(AllNICrimeData, 10)
combine_results <- function(csv_list) {     all_ni_crime_data <- NULL     for (csv in csv_list)         {         my_data <- read.csv(paste(wd, csv, sep = ""), header = TRUE, stringsAsFactors = FALSE)         all_ni_crime_data <- rbind(all_ni_crime_data, my_data)         }     return(all_ni_crime_data) }
AllNICrimeData <- combine_results(csv_list)
csv_list <- list.files(path = wd, pattern = "*.csv", full.names = FALSE,)
csv_list
AllNICrimeData <- combine_results(csv_list)
str(AllNICrimeData)
nrow(AllNICrimeData)
attach(AllNICrimeData)
AllNICrimeData <- subset(AllNICrimeData, select = -c(Crime.ID, Reported.by, Falls.within, LSOA.code,  LSOA.name, Last.outcome.category, Context))
str(AllNICrimeData)
AllNICrimeData$Crime.type <- factor(Crime.type, levels = c("Anti-social behaviour", "Bicycle theft", "Burglary",      "Criminal damage and arson", "Drugs", "Other Crime", "Other Theft", "Possession of weapons",       "Public order", "Robbery", "Shoplifting", "Theft from the person", "Vehicle crime",        "Violence and sexual offences"))
head(AllNICrimeData$Crime.type)
AllNICrimeData$Location <- gsub("on or near ", "", Location, ignore.case = TRUE) AllNICrimeData$Location <- toupper(AllNICrimeData$Location) head(AllNICrimeData$Location, 10)
setwd("c:/Users/Connor/Source/Repos/DataScience/Ni_Crime/") CleanNIPostcodeData <- read.csv("CleanNIPostcodeData.csv", stringsAsFactors = FALSE)
AllNICrimeData$Postcode <- mapply(function(x) names(which.max(table(CleanNIPostcodeData$Postcode[x == CleanNIPostcodeData$Primary_Thorfare]))), AllNICrimeData$Location)
write.csv(AllNICrimeData, "AllNICrimeData.csv")
